exports.id=101,exports.ids=[101],exports.modules={93739:()=>{},41276:(e,r,s)=>{let t={"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":()=>Promise.resolve().then(s.bind(s,25095)).then(e=>e.SignOut),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":()=>Promise.resolve().then(s.bind(s,25095)).then(e=>e.$$ACTION_0),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:()=>Promise.resolve().then(s.bind(s,25095)).then(e=>e.signUp),c90075d8792b89f7584984a67b421aab69e556af:()=>Promise.resolve().then(s.bind(s,25095)).then(e=>e.signInWithCredentials)};async function a(e,...r){return(await t[e]()).apply(null,r)}e.exports={"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":a.bind(null,"6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":a.bind(null,"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4"),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:a.bind(null,"be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),c90075d8792b89f7584984a67b421aab69e556af:a.bind(null,"c90075d8792b89f7584984a67b421aab69e556af")}},96116:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},11901:()=>{},35303:()=>{},58053:(e,r,s)=>{"use strict";s.d(r,{z:()=>l});var t=s(97247),a=s(28964),i=s(69008),n=s(77247),o=s(25008);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},l)=>{let c=a?i.g7:"button";return t.jsx(c,{className:(0,o.cn)(d({variant:r,size:s,className:e})),ref:l,...n})});l.displayName="Button"},70170:(e,r,s)=>{"use strict";s.d(r,{I:()=>n});var t=s(97247),a=s(28964),i=s(25008);let n=a.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));n.displayName="Input"},22394:(e,r,s)=>{"use strict";s.d(r,{_:()=>l});var t=s(97247),a=s(28964),i=s(40768),n=s(77247),o=s(25008);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...r},s)=>t.jsx(i.f,{ref:s,className:(0,o.cn)(d(),e),...r}));l.displayName=i.f.displayName},75987:(e,r,s)=>{"use strict";s.d(r,{c4:()=>i,y1:()=>a}),s(70689);var t=s(11294);(0,t.$)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5");var a=(0,t.$)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),i=(0,t.$)("c90075d8792b89f7584984a67b421aab69e556af")},17916:(e,r,s)=>{"use strict";s.d(r,{y5:()=>t,yW:()=>a});let t={email:"",password:""},a={name:"",email:"",password:"",confirmPassword:""}},25008:(e,r,s)=>{"use strict";s.d(r,{Xp:()=>n,cn:()=>i});var t=s(61929),a=s(35770);function i(...e){return(0,a.m6)((0,t.W)(e))}let n=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}},46710:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(72051);s(26269);let a=({children:e})=>t.jsx("div",{className:"flex-center min-n-screen w-full",children:e})},54403:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,metadata:()=>o});var t=s(72051),a=s(28742),i=s.n(a);s(67272);var n=s(37170);s(26269);let o={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:(0,n.cn)("min-h-screen bg-background font-sans antialiased",i().variable),children:e})})}},1779:(e,r,s)=>{"use strict";s.d(r,{I8:()=>p,handlers:()=>m,w7:()=>g,zB:()=>b});var t=s(56513),a=s(17198),i=s(29785),n=s(35872),o=s(35957),d=s(9396),l=s(53117),c=s(52845),u=s(71309);let f={pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:(0,t.J)(d.Z),providers:[(0,o.Z)({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(null==e)return null;let r=await d.Z.query.users.findFirst({where:(0,i.eq)(l.users.email,e.email)});return r&&r.password&&(0,a.oH)(e.password,r.password)?{id:r.id,name:r.name,email:r.email,role:r.role}:null}})],callbacks:{jwt:async({token:e,user:r,trigger:s,session:t})=>{if(r&&("signIn"===s||"signUp"===s)){let e=c.cookies().get("sessionCartId")?.value;if(!e)throw Error("Session Cart Not Found");let s=await d.Z.query.carts.findFirst({where:(0,i.eq)(l.carts.sessionCartId,e)});if(s&&!s.userId){let t=await d.Z.query.carts.findFirst({where:(0,i.eq)(l.carts.userId,r.id)});t?((0,c.cookies)().set("beforeSigninSessionCartId",e),(0,c.cookies)().set("sessionCartId",t.sessionCartId)):d.Z.update(l.carts).set({userId:r.id}).where((0,i.eq)(l.carts.id,s.id))}}return t?.user.name&&"update"===s&&(e.name=t.user.name),e},session:async({session:e,user:r,trigger:s,token:t})=>(e.user.id=t.sub,e.user.role=t.role,e.user.name=t.name,"update"===s&&(e.user.name=r.name),e),authorized({request:e,auth:r}){let{pathname:s}=e.nextUrl;if(!r&&[/\/shipping-address/,/\/payment-method/,/\/place-order/,/\/profile/,/\/user\/(.*)/,/\/order\/(.*)/,/\/admin/].some(e=>e.test(s)))return!1;if(e.cookies.get("sessionCartId"))return!0;{let r=crypto.randomUUID(),s=new Headers(e.headers),t=u.NextResponse.next({request:{headers:s}});return t.cookies.set("sessionCartId",r),t}}}},{handlers:m,auth:p,signIn:b,signOut:g}=(0,n.ZP)(f)},6669:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>o,SZ:()=>l,Zb:()=>n,aY:()=>c,ll:()=>d});var t=s(72051),a=s(26269),i=s(37170);let n=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},9396:(e,r,s)=>{"use strict";s.d(r,{Z:()=>n});var t=s(53117),a=s(60713),i=s(52143);let n=(0,a.t)(i.i6,{schema:t})},53117:(e,r,s)=>{"use strict";s.r(r),s.d(r,{accounts:()=>p,carts:()=>N,products:()=>y,sessions:()=>b,users:()=>m,verificationTokens:()=>g});var t=s(15308),a=s(59397),i=s(39411),n=s(70380),o=s(46248),d=s(67691),l=s(21305),c=s(10950),u=s(22344),f=s(14244);let m=(0,t.af)("user",{id:(0,a.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,i.fL)("name").default("NO_NAME").notNull(),role:(0,i.fL)("role").notNull().default("user"),password:(0,i.fL)("password"),email:(0,i.fL)("email").notNull(),emailVerified:(0,n.AB)("emailVerified",{mode:"date"}),image:(0,i.fL)("image")}),p=(0,t.af)("account",{userId:(0,a.Vj)("userId").notNull().references(()=>m.id,{onDelete:"cascade"}),type:(0,i.fL)("type").$type().notNull(),provider:(0,i.fL)("provider").notNull(),providerAccountId:(0,i.fL)("providerAccountId").notNull(),refresh_token:(0,i.fL)("refresh_token"),access_token:(0,i.fL)("access_token"),expires_at:(0,o._L)("expires_at"),token_type:(0,i.fL)("token_type"),scope:(0,i.fL)("scope"),id_token:(0,i.fL)("id_token"),session_state:(0,i.fL)("session_state")},e=>({compoundKey:(0,f.CK)({columns:[e.provider,e.providerAccountId]})})),b=(0,t.af)("session",{sessionToken:(0,i.fL)("sessionToken").primaryKey(),userId:(0,a.Vj)("userId").notNull().references(()=>m.id,{onDelete:"cascade"}),expires:(0,n.AB)("expires",{mode:"date"}).notNull()}),g=(0,t.af)("verificationToken",{identifier:(0,i.fL)("identifier").notNull(),token:(0,i.fL)("token").notNull(),expires:(0,n.AB)("expires",{mode:"date"}).notNull()},e=>({compoundKey:(0,f.CK)({columns:[e.identifier,e.token]})})),y=(0,t.af)("product",{id:(0,a.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,i.fL)("name").notNull(),slug:(0,i.fL)("slug").notNull(),category:(0,i.fL)("category").notNull(),images:(0,i.fL)("images").array().notNull(),brand:(0,i.fL)("brand").notNull(),description:(0,i.fL)("description").notNull(),stock:(0,o._L)("stock").notNull(),price:(0,d.uR)("price",{precision:12,scale:2}).notNull().default("0"),rating:(0,d.uR)("rating",{precision:3,scale:2}).notNull().default("0"),numReviews:(0,o._L)("numReviews").notNull().default(0),isFeatured:(0,l.O7)("isFeatured").default(!1).notNull(),banner:(0,i.fL)("banner"),createdAt:(0,n.AB)("createdAt").defaultNow().notNull()},e=>({productSlugIdx:(0,c.o9)("product_slug_idx").on(e.slug)})),N=(0,t.af)("cart",{id:(0,a.Vj)("id").notNull().defaultRandom().primaryKey(),userId:(0,a.Vj)("userId").references(()=>m.id,{onDelete:"cascade"}),sessionCartId:(0,i.fL)("sessionCartId").notNull(),items:(0,u.AV)("items").$type().notNull().default([]),itemsPrice:(0,d.uR)("itemsPrice",{precision:12,scale:2}).notNull(),shippingPrice:(0,d.uR)("shippingPrice",{precision:12,scale:2}).notNull(),taxPrice:(0,d.uR)("taxPrice",{precision:12,scale:2}).notNull(),totalPrice:(0,d.uR)("totalPrice",{precision:12,scale:2}).notNull(),createdAt:(0,n.AB)("createdAt").notNull().defaultNow()})},25095:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>M,SignOut:()=>z,signInWithCredentials:()=>D,signUp:()=>T});var t={};s.r(t),s.d(t,{accounts:()=>x,carts:()=>_,products:()=>k,sessions:()=>I,users:()=>v,verificationTokens:()=>L});var a=s(28713);s(9640);var i=s(22614),n=s(35141),o=s(40461),d=s(54068),l=s(19498),c=s(35472),u=s(74342),f=s(62428),m=s(19169),p=s(79492),b=s(74722),g=s(23662),y=s(89221),N=s(5614),h=s(40915),w=s(55519);let v=(0,u.af)("user",{id:(0,f.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,m.fL)("name").default("NO_NAME").notNull(),role:(0,m.fL)("role").notNull().default("user"),password:(0,m.fL)("password"),email:(0,m.fL)("email").notNull(),emailVerified:(0,p.AB)("emailVerified",{mode:"date"}),image:(0,m.fL)("image")}),x=(0,u.af)("account",{userId:(0,f.Vj)("userId").notNull().references(()=>v.id,{onDelete:"cascade"}),type:(0,m.fL)("type").$type().notNull(),provider:(0,m.fL)("provider").notNull(),providerAccountId:(0,m.fL)("providerAccountId").notNull(),refresh_token:(0,m.fL)("refresh_token"),access_token:(0,m.fL)("access_token"),expires_at:(0,b._L)("expires_at"),token_type:(0,m.fL)("token_type"),scope:(0,m.fL)("scope"),id_token:(0,m.fL)("id_token"),session_state:(0,m.fL)("session_state")},e=>({compoundKey:(0,w.CK)({columns:[e.provider,e.providerAccountId]})})),I=(0,u.af)("session",{sessionToken:(0,m.fL)("sessionToken").primaryKey(),userId:(0,f.Vj)("userId").notNull().references(()=>v.id,{onDelete:"cascade"}),expires:(0,p.AB)("expires",{mode:"date"}).notNull()}),L=(0,u.af)("verificationToken",{identifier:(0,m.fL)("identifier").notNull(),token:(0,m.fL)("token").notNull(),expires:(0,p.AB)("expires",{mode:"date"}).notNull()},e=>({compoundKey:(0,w.CK)({columns:[e.identifier,e.token]})})),k=(0,u.af)("product",{id:(0,f.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,m.fL)("name").notNull(),slug:(0,m.fL)("slug").notNull(),category:(0,m.fL)("category").notNull(),images:(0,m.fL)("images").array().notNull(),brand:(0,m.fL)("brand").notNull(),description:(0,m.fL)("description").notNull(),stock:(0,b._L)("stock").notNull(),price:(0,g.uR)("price",{precision:12,scale:2}).notNull().default("0"),rating:(0,g.uR)("rating",{precision:3,scale:2}).notNull().default("0"),numReviews:(0,b._L)("numReviews").notNull().default(0),isFeatured:(0,y.O7)("isFeatured").default(!1).notNull(),banner:(0,m.fL)("banner"),createdAt:(0,p.AB)("createdAt").defaultNow().notNull()},e=>({productSlugIdx:(0,N.o9)("product_slug_idx").on(e.slug)})),_=(0,u.af)("cart",{id:(0,f.Vj)("id").notNull().defaultRandom().primaryKey(),userId:(0,f.Vj)("userId").references(()=>v.id,{onDelete:"cascade"}),sessionCartId:(0,m.fL)("sessionCartId").notNull(),items:(0,h.AV)("items").$type().notNull().default([]),itemsPrice:(0,g.uR)("itemsPrice",{precision:12,scale:2}).notNull(),shippingPrice:(0,g.uR)("shippingPrice",{precision:12,scale:2}).notNull(),taxPrice:(0,g.uR)("taxPrice",{precision:12,scale:2}).notNull(),totalPrice:(0,g.uR)("totalPrice",{precision:12,scale:2}).notNull(),createdAt:(0,p.AB)("createdAt").notNull().defaultNow()});var j=s(6355),P=s(49834);let R=(0,j.t)(P.i6,{schema:t});var C=s(53020),A=s(58995);let Z={pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:(0,n.J)(R),providers:[(0,c.Z)({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(null==e)return null;let r=await R.query.users.findFirst({where:(0,d.eq)(v.email,e.email)});return r&&r.password&&(0,o.oH)(e.password,r.password)?{id:r.id,name:r.name,email:r.email,role:r.role}:null}})],callbacks:{jwt:async({token:e,user:r,trigger:s,session:t})=>{if(r&&("signIn"===s||"signUp"===s)){let e=C.cookies().get("sessionCartId")?.value;if(!e)throw Error("Session Cart Not Found");let s=await R.query.carts.findFirst({where:(0,d.eq)(_.sessionCartId,e)});if(s&&!s.userId){let t=await R.query.carts.findFirst({where:(0,d.eq)(_.userId,r.id)});t?((0,C.cookies)().set("beforeSigninSessionCartId",e),(0,C.cookies)().set("sessionCartId",t.sessionCartId)):R.update(_).set({userId:r.id}).where((0,d.eq)(_.id,s.id))}}return t?.user.name&&"update"===s&&(e.name=t.user.name),e},session:async({session:e,user:r,trigger:s,token:t})=>(e.user.id=t.sub,e.user.role=t.role,e.user.name=t.name,"update"===s&&(e.user.name=r.name),e),authorized({request:e,auth:r}){let{pathname:s}=e.nextUrl;if(!r&&[/\/shipping-address/,/\/payment-method/,/\/place-order/,/\/profile/,/\/user\/(.*)/,/\/order\/(.*)/,/\/admin/].some(e=>e.test(s)))return!1;if(e.cookies.get("sessionCartId"))return!0;{let r=crypto.randomUUID(),s=new Headers(e.headers),t=A.NextResponse.next({request:{headers:s}});return t.cookies.set("sessionCartId",r),t}}}},{handlers:q,auth:S,signIn:E,signOut:V}=(0,l.ZP)(Z);var $=s(79176);let O=e=>"ZodError"===e.name?Object.keys(e.errors).map(r=>{let s=e.errors[r].message;return`${e.errors[r].path}: ${s}`}).join(". "):"ValidationError"===e.name?Object.keys(e.errors).map(r=>e.errors[r].message).join(". "):"string"==typeof e.message?e.message:JSON.stringify(e.message),K=e=>{let[r,s]=e.toString().split(".");return s?`${r}.${s.padEnd(2,"0")}`:r},F=$.Ry({email:$.Z_().email().min(3,"Email must be at least 3 characters"),password:$.Z_().min(3,"Password must be at least 3 characters")}),U=$.Ry({name:$.Z_().min(3,"Name must be at least 3 characters"),email:$.Z_().email().min(3,"Email must be at least 3 characters"),password:$.Z_().min(3,"Password must be at least 3 characters"),confirmPassword:$.Z_().min(3,"Confirm password must be at least 3 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});$.Ry({productId:$.Z_().min(1,"Product is required"),name:$.Z_().min(1,"Name is required"),slug:$.Z_().min(1,"Slug is required"),qty:$.Rx().int().nonnegative("Quantity must be a non-negative number"),image:$.Z_().min(1,"Image is required"),price:$.Rx().refine(e=>/^\d+(\.\d{2})?$/.test(K(e)),"Price must have exactly two decimal places (e.g., 49.99)")});var B=s(83557);async function T(e,r){try{let e=U.parse({name:r.get("name"),email:r.get("email"),confirmPassword:r.get("confirmPassword"),password:r.get("password")}),s={id:crypto.randomUUID(),...e,password:(0,o.St)(e.password,10)};return await R.insert(v).values(s),await E("credentials",{email:e.email,password:e.password}),{success:!0,message:"User created successfully"}}catch(e){if((0,i.isRedirectError)(e))throw e;return{success:!1,message:O(e).includes('duplicate key value violates unique constraint "user_email_idx"')?"Email is already exist":O(e)}}}async function D(e,r){try{let e=F.parse({email:r.get("email"),password:r.get("password")});return await E("credentials",e),{success:!0,message:"Sig in successfully"}}catch(e){if((0,i.isRedirectError)(e))throw e;return{success:!1,message:"Invalid email or password"}}}let z=(0,a.j)("9894e6c57f99a2f4eccac4a43c9c453c2e8680a4",M);async function M(){await V()}(0,B.h)([T,D,z]),(0,a.j)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1",T),(0,a.j)("c90075d8792b89f7584984a67b421aab69e556af",D),(0,a.j)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5",z)},89112:(e,r,s)=>{"use strict";s.d(r,{iC:()=>t});let t="Choose Life and Peace"},37170:(e,r,s)=>{"use strict";s.d(r,{Aj:()=>o,Xp:()=>d,Z:()=>n,cn:()=>i});var t=s(36272),a=s(51472);function i(...e){return(0,a.m6)((0,t.W)(e))}let n=e=>"ZodError"===e.name?Object.keys(e.errors).map(r=>{let s=e.errors[r].message;return`${e.errors[r].path}: ${s}`}).join(". "):"ValidationError"===e.name?Object.keys(e.errors).map(r=>e.errors[r].message).join(". "):"string"==typeof e.message?e.message:JSON.stringify(e.message),o=e=>{let[r,s]=e.toString().split(".");return s?`${r}.${s.padEnd(2,"0")}`:r},d=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}},67272:()=>{}};