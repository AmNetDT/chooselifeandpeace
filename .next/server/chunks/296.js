exports.id=296,exports.ids=[296],exports.modules={93739:()=>{},42877:(e,a,r)=>{let t={"37248d5a5d92203bea071298526bbf56bd6a282e":()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.updateProfile),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.getUserById),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.SignOut),"7ef6945e100c99ebbac8da6a81410b4410597f01":()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.updateUserAddress),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.$$ACTION_0),abc73778e07b95e9d8f15868fea7f03dbbca9e71:()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.updateUserPaymentMethod),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.signUp),c90075d8792b89f7584984a67b421aab69e556af:()=>Promise.resolve().then(r.bind(r,48185)).then(e=>e.signInWithCredentials)};async function s(e,...a){return(await t[e]()).apply(null,a)}e.exports={"37248d5a5d92203bea071298526bbf56bd6a282e":s.bind(null,"37248d5a5d92203bea071298526bbf56bd6a282e"),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":s.bind(null,"4896ea1b4f1dace1ade49eb3651161dc0c4f102a"),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":s.bind(null,"6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),"7ef6945e100c99ebbac8da6a81410b4410597f01":s.bind(null,"7ef6945e100c99ebbac8da6a81410b4410597f01"),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":s.bind(null,"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4"),abc73778e07b95e9d8f15868fea7f03dbbca9e71:s.bind(null,"abc73778e07b95e9d8f15868fea7f03dbbca9e71"),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:s.bind(null,"be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),c90075d8792b89f7584984a67b421aab69e556af:s.bind(null,"c90075d8792b89f7584984a67b421aab69e556af")}},35303:()=>{},58053:(e,a,r)=>{"use strict";r.d(a,{z:()=>l});var t=r(97247),s=r(28964),d=r(69008),n=r(77247),i=r(25008);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:a,size:r,asChild:s=!1,...n},l)=>{let c=s?d.g7:"button";return t.jsx(c,{className:(0,i.cn)(o({variant:a,size:r,className:e})),ref:l,...n})});l.displayName="Button"},70170:(e,a,r)=>{"use strict";r.d(a,{I:()=>n});var t=r(97247),s=r(28964),d=r(25008);let n=s.forwardRef(({className:e,type:a,...r},s)=>t.jsx("input",{type:a,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input"},22394:(e,a,r)=>{"use strict";r.d(a,{_:()=>l});var t=r(97247),s=r(28964),d=r(40768),n=r(77247),i=r(25008);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...a},r)=>t.jsx(d.f,{ref:r,className:(0,i.cn)(o(),e),...a}));l.displayName=d.f.displayName},75987:(e,a,r)=>{"use strict";r.d(a,{$X:()=>i,Fy:()=>o,c4:()=>n,ck:()=>s,y1:()=>d}),r(70689);var t=r(11294),s=(0,t.$)("37248d5a5d92203bea071298526bbf56bd6a282e"),d=(0,t.$)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),n=(0,t.$)("c90075d8792b89f7584984a67b421aab69e556af");(0,t.$)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),(0,t.$)("4896ea1b4f1dace1ade49eb3651161dc0c4f102a");var i=(0,t.$)("7ef6945e100c99ebbac8da6a81410b4410597f01"),o=(0,t.$)("abc73778e07b95e9d8f15868fea7f03dbbca9e71")},17916:(e,a,r)=>{"use strict";r.d(a,{LM:()=>s,dF:()=>o,iC:()=>t,p7:()=>d,y5:()=>n,yW:()=>i});let t="King of Kings";process.env.PAGE_SIZE;let s=process.env.PAYMENT_METHODS?process.env.PAYMENT_METHODS.split(", "):["PayPal","Stripe"],d=process.env.DEFAULT_PAYMENT_METHOD||"PayPal",n={email:"",password:""},i={name:"",email:"",password:"",confirmPassword:""},o={fullName:"",streetAddress:"",city:"",postalCode:"",country:""}},34178:(e,a,r)=>{"use strict";var t=r(25289);r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},46710:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});var t=r(72051);r(26269);let s=({children:e})=>t.jsx("div",{className:"flex-center min-n-screen w-full",children:e})},1779:(e,a,r)=>{"use strict";r.d(a,{I8:()=>b,handlers:()=>p,w7:()=>y,zB:()=>m});var t=r(78385),s=r(17198),d=r(29785),n=r(35872),i=r(35957),o=r(9396),l=r(53117),c=r(52845),u=r(71309);let f={pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:(0,t.J)(o.Z),providers:[(0,i.Z)({credentials:{email:{type:"email"},password:{type:"password"}},async authorize(e){if(null==e)return null;let a=await o.Z.query.users.findFirst({where:(0,d.eq)(l.users.email,e.email)});return a&&a.password&&(0,s.oH)(e.password,a.password)?{id:a.id,name:a.name,email:a.email,role:a.role}:null}})],callbacks:{jwt:async({token:e,user:a,trigger:r,session:t})=>{if(a&&("signIn"===r||"signUp"===r)){let e=c.cookies().get("sessionCartId")?.value;if(!e)throw Error("Session Cart Not Found");let r=await o.Z.query.carts.findFirst({where:(0,d.eq)(l.carts.sessionCartId,e)});if(r&&!r.userId){let t=await o.Z.query.carts.findFirst({where:(0,d.eq)(l.carts.userId,a.id)});t?((0,c.cookies)().set("beforeSigninSessionCartId",e),(0,c.cookies)().set("sessionCartId",t.sessionCartId)):o.Z.update(l.carts).set({userId:a.id}).where((0,d.eq)(l.carts.id,r.id))}}return t?.user.name&&"update"===r&&(e.name=t.user.name),e},session:async({session:e,user:a,trigger:r,token:t})=>(e.user.id=t.sub,e.user.role=t.role,e.user.name=t.name,"update"===r&&(e.user.name=a.name),e),authorized({request:e,auth:a}){let{pathname:r}=e.nextUrl;if(!a&&[/\/shipping-address/,/\/payment-method/,/\/place-order/,/\/profile/,/\/user\/(.*)/,/\/order\/(.*)/,/\/admin/].some(e=>e.test(r)))return!1;if(e.cookies.get("sessionCartId"))return!0;{let a=crypto.randomUUID(),r=new Headers(e.headers),t=u.NextResponse.next({request:{headers:r}});return t.cookies.set("sessionCartId",a),t}}}},{handlers:p,auth:b,signIn:m,signOut:y}=(0,n.ZP)(f)},9396:(e,a,r)=>{"use strict";r.d(a,{Z:()=>n});var t=r(53117),s=r(60713),d=r(52143);let n=(0,s.t)(d.i6,{schema:t})},53117:(e,a,r)=>{"use strict";r.r(a),r.d(a,{accounts:()=>m,carts:()=>h,orderItems:()=>w,orderItemsRelations:()=>I,orders:()=>v,ordersRelations:()=>x,products:()=>g,sessions:()=>y,users:()=>b,verificationTokens:()=>N});var t=r(28907),s=r(15308),d=r(59397),n=r(39411),i=r(70380),o=r(22344),l=r(46248),c=r(67691),u=r(21305),f=r(10950),p=r(14244);let b=(0,s.af)("user",{id:(0,d.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,n.fL)("name").default("NO_NAME").notNull(),role:(0,n.fL)("role").notNull().default("user"),password:(0,n.fL)("password"),email:(0,n.fL)("email").notNull(),emailVerified:(0,i.AB)("emailVerified",{mode:"date"}),image:(0,n.fL)("image"),address:(0,o.AV)("address").$type(),paymentMethod:(0,n.fL)("paymentMethod")}),m=(0,s.af)("account",{userId:(0,d.Vj)("userId").notNull().references(()=>b.id,{onDelete:"cascade"}),type:(0,n.fL)("type").$type().notNull(),provider:(0,n.fL)("provider").notNull(),providerAccountId:(0,n.fL)("providerAccountId").notNull(),refresh_token:(0,n.fL)("refresh_token"),access_token:(0,n.fL)("access_token"),expires_at:(0,l._L)("expires_at"),token_type:(0,n.fL)("token_type"),scope:(0,n.fL)("scope"),id_token:(0,n.fL)("id_token"),session_state:(0,n.fL)("session_state")},e=>({compoundKey:(0,p.CK)({columns:[e.provider,e.providerAccountId]})})),y=(0,s.af)("session",{sessionToken:(0,n.fL)("sessionToken").primaryKey(),userId:(0,d.Vj)("userId").notNull().references(()=>b.id,{onDelete:"cascade"}),expires:(0,i.AB)("expires",{mode:"date"}).notNull()}),N=(0,s.af)("verificationToken",{identifier:(0,n.fL)("identifier").notNull(),token:(0,n.fL)("token").notNull(),expires:(0,i.AB)("expires",{mode:"date"}).notNull()},e=>({compoundKey:(0,p.CK)({columns:[e.identifier,e.token]})})),g=(0,s.af)("product",{id:(0,d.Vj)("id").defaultRandom().primaryKey().notNull(),name:(0,n.fL)("name").notNull(),slug:(0,n.fL)("slug").notNull(),category:(0,n.fL)("category").notNull(),images:(0,n.fL)("images").array().notNull(),brand:(0,n.fL)("brand").notNull(),description:(0,n.fL)("description").notNull(),stock:(0,l._L)("stock").notNull(),price:(0,c.uR)("price",{precision:12,scale:2}).notNull().default("0"),rating:(0,c.uR)("rating",{precision:3,scale:2}).notNull().default("0"),numReviews:(0,l._L)("numReviews").notNull().default(0),isFeatured:(0,u.O7)("isFeatured").default(!1).notNull(),banner:(0,n.fL)("banner"),createdAt:(0,i.AB)("createdAt").defaultNow().notNull()},e=>({productSlugIdx:(0,f.o9)("product_slug_idx").on(e.slug)})),h=(0,s.af)("cart",{id:(0,d.Vj)("id").notNull().defaultRandom().primaryKey(),userId:(0,d.Vj)("userId").references(()=>b.id,{onDelete:"cascade"}),sessionCartId:(0,n.fL)("sessionCartId").notNull(),items:(0,o.AV)("items").$type().notNull().default([]),itemsPrice:(0,c.uR)("itemsPrice",{precision:12,scale:2}).notNull(),shippingPrice:(0,c.uR)("shippingPrice",{precision:12,scale:2}).notNull(),taxPrice:(0,c.uR)("taxPrice",{precision:12,scale:2}).notNull(),totalPrice:(0,c.uR)("totalPrice",{precision:12,scale:2}).notNull(),createdAt:(0,i.AB)("createdAt").notNull().defaultNow()}),v=(0,s.af)("order",{id:(0,d.Vj)("id").defaultRandom().primaryKey(),userId:(0,d.Vj)("userId").notNull().references(()=>b.id,{onDelete:"cascade"}),shippingAddress:(0,o.AV)("shippingAddress").$type().notNull(),paymentMethod:(0,n.fL)("paymentMethod").notNull(),paymentResult:(0,o.AV)("paymentResult").$type(),itemsPrice:(0,c.uR)("itemsPrice",{precision:12,scale:2}).notNull(),shippingPrice:(0,c.uR)("shippingPrice",{precision:12,scale:2}).notNull(),taxPrice:(0,c.uR)("taxPrice",{precision:12,scale:2}).notNull(),totalPrice:(0,c.uR)("totalPrice",{precision:12,scale:2}).notNull(),isPaid:(0,u.O7)("isPaid").notNull().default(!1),paidAt:(0,i.AB)("paidAt"),isDelivered:(0,u.O7)("isDelivered").notNull().default(!1),deliveredAt:(0,i.AB)("deliveredAt"),createdAt:(0,i.AB)("createdAt").notNull().defaultNow()}),x=(0,t.lE)(v,({one:e,many:a})=>({orderItems:a(w),user:e(b,{fields:[v.userId],references:[b.id]})})),w=(0,s.af)("orderItems",{orderId:(0,d.Vj)("orderId").notNull().references(()=>v.id,{onDelete:"cascade"}),productId:(0,d.Vj)("productId").notNull().references(()=>g.id,{onDelete:"cascade"}),qty:(0,l._L)("qty").notNull(),price:(0,c.uR)("price",{precision:12,scale:2}).notNull(),name:(0,n.fL)("name").notNull(),slug:(0,n.fL)("slug").notNull(),image:(0,n.fL)("image").notNull()},e=>({compoundKey:(0,p.CK)({columns:[e.orderId,e.productId]})})),I=(0,t.lE)(w,({one:e})=>({order:e(v,{fields:[w.orderId],references:[v.id]})}))},40768:(e,a,r)=>{"use strict";r.d(a,{f:()=>i});var t=r(28964),s=r(22251),d=r(97247),n=t.forwardRef((e,a)=>(0,d.jsx)(s.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var i=n}};