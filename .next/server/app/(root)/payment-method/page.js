(()=>{var e={};e.id=880,e.ids=[880],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},36223:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>f,tree:()=>c}),a(14330),a(56712),a(90996),a(13529);var t=a(30170),s=a(45002),d=a(83876),n=a.n(d),o=a(66299),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(r,i);let c=["",{children:["(root)",{children:["payment-method",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,14330)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/payment-method/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,56712)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,13529)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/payment-method/page.tsx"],u="/(root)/payment-method/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(root)/payment-method/page",pathname:"/payment-method",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},89913:(e,r,a)=>{let t={"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.getUserById),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.SignOut),"7ef6945e100c99ebbac8da6a81410b4410597f01":()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.updateUserAddress),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.$$ACTION_0),abc73778e07b95e9d8f15868fea7f03dbbca9e71:()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.updateUserPaymentMethod),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.signUp),c90075d8792b89f7584984a67b421aab69e556af:()=>Promise.resolve().then(a.bind(a,23829)).then(e=>e.signInWithCredentials),"41fc677b184effcb0016e001cd930a9fb30ddb0a":()=>Promise.resolve().then(a.bind(a,6001)).then(e=>e.addItemToCart),"9ca5872de79006ed19093a5fb9a9561bb840e13b":()=>Promise.resolve().then(a.bind(a,6001)).then(e=>e.$$ACTION_1),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:()=>Promise.resolve().then(a.bind(a,6001)).then(e=>e.$$ACTION_0),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:()=>Promise.resolve().then(a.bind(a,6001)).then(e=>e.removeItemFromCart),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:()=>Promise.resolve().then(a.bind(a,6001)).then(e=>e.getMyCart)};async function s(e,...r){return(await t[e]()).apply(null,r)}e.exports={"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":s.bind(null,"4896ea1b4f1dace1ade49eb3651161dc0c4f102a"),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":s.bind(null,"6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),"7ef6945e100c99ebbac8da6a81410b4410597f01":s.bind(null,"7ef6945e100c99ebbac8da6a81410b4410597f01"),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":s.bind(null,"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4"),abc73778e07b95e9d8f15868fea7f03dbbca9e71:s.bind(null,"abc73778e07b95e9d8f15868fea7f03dbbca9e71"),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:s.bind(null,"be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),c90075d8792b89f7584984a67b421aab69e556af:s.bind(null,"c90075d8792b89f7584984a67b421aab69e556af"),"41fc677b184effcb0016e001cd930a9fb30ddb0a":s.bind(null,"41fc677b184effcb0016e001cd930a9fb30ddb0a"),"9ca5872de79006ed19093a5fb9a9561bb840e13b":s.bind(null,"9ca5872de79006ed19093a5fb9a9561bb840e13b"),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:s.bind(null,"d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473"),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:s.bind(null,"d33ae3afc17ff86a896b65bbc01c77b3fd04f032"),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:s.bind(null,"fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c")}},31901:(e,r,a)=>{Promise.resolve().then(a.bind(a,76860))},76860:(e,r,a)=>{"use strict";a.d(r,{default:()=>Y});var t=a(97247),s=a(43235),d=a(58053),n=a(52208),o=a(28964),i=a(2095),c=a(70319),l=a(93191),u=a(20732),m=a(22251),f=a(47403),b=a(28469),p=a(71310),h=a(30255),x=a(67264),y="Radio",[v,g]=(0,u.b)(y),[w,j]=v(y),P=o.forwardRef((e,r)=>{let{__scopeRadio:a,name:s,checked:d=!1,required:n,disabled:i,value:u="on",onCheck:f,form:b,...p}=e,[h,x]=o.useState(null),y=(0,l.e)(r,e=>x(e)),v=o.useRef(!1),g=!h||b||!!h.closest("form");return(0,t.jsxs)(w,{scope:a,checked:d,disabled:i,children:[(0,t.jsx)(m.WV.button,{type:"button",role:"radio","aria-checked":d,"data-state":q(d),"data-disabled":i?"":void 0,disabled:i,value:u,...p,ref:y,onClick:(0,c.M)(e.onClick,e=>{d||f?.(),g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),g&&(0,t.jsx)(R,{control:h,bubbles:!v.current,name:s,value:u,checked:d,required:n,disabled:i,form:b,style:{transform:"translateX(-100%)"}})]})});P.displayName=y;var N="RadioIndicator",_=o.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:s,...d}=e,n=j(N,a);return(0,t.jsx)(x.z,{present:s||n.checked,children:(0,t.jsx)(m.WV.span,{"data-state":q(n.checked),"data-disabled":n.disabled?"":void 0,...d,ref:r})})});_.displayName=N;var R=e=>{let{control:r,checked:a,bubbles:s=!0,...d}=e,n=o.useRef(null),i=function(e){let r=o.useRef({value:e,previous:e});return o.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(a),c=(0,h.t)(r);return o.useEffect(()=>{let e=n.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==a&&r){let t=new Event("click",{bubbles:s});r.call(e,a),e.dispatchEvent(t)}},[i,a,s]),(0,t.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:a,...d,tabIndex:-1,ref:n,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function q(e){return e?"checked":"unchecked"}var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I="RadioGroup",[M,k]=(0,u.b)(I,[f.Pc,g]),E=(0,f.Pc)(),A=g(),[$,F]=M(I),Z=o.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:s,defaultValue:d,value:n,required:o=!1,disabled:i=!1,orientation:c,dir:l,loop:u=!0,onValueChange:h,...x}=e,y=E(a),v=(0,p.gm)(l),[g,w]=(0,b.T)({prop:n,defaultProp:d,onChange:h});return(0,t.jsx)($,{scope:a,name:s,required:o,disabled:i,value:g,onValueChange:w,children:(0,t.jsx)(f.fC,{asChild:!0,...y,orientation:c,dir:v,loop:u,children:(0,t.jsx)(m.WV.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":i?"":void 0,dir:v,...x,ref:r})})})});Z.displayName=I;var D="RadioGroupItem",T=o.forwardRef((e,r)=>{let{__scopeRadioGroup:a,disabled:s,...d}=e,n=F(D,a),i=n.disabled||s,u=E(a),m=A(a),b=o.useRef(null),p=(0,l.e)(r,b),h=n.value===d.value,x=o.useRef(!1);return o.useEffect(()=>{let e=e=>{C.includes(e.key)&&(x.current=!0)},r=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,t.jsx)(f.ck,{asChild:!0,...u,focusable:!i,active:h,children:(0,t.jsx)(P,{disabled:i,required:n.required,checked:h,...m,...d,name:n.name,ref:p,onCheck:()=>n.onValueChange(d.value),onKeyDown:(0,c.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,c.M)(d.onFocus,()=>{x.current&&b.current?.click()})})})});T.displayName=D;var L=o.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...s}=e,d=A(a);return(0,t.jsx)(_,{...d,...s,ref:r})});L.displayName="RadioGroupIndicator";var U=a(25008);let O=o.forwardRef(({className:e,...r},a)=>t.jsx(Z,{className:(0,U.cn)("grid gap-2",e),...r,ref:a}));O.displayName=Z.displayName;let S=o.forwardRef(({className:e,...r},a)=>t.jsx(T,{ref:a,className:(0,U.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(L,{className:"flex items-center justify-center",children:t.jsx(i.nQG,{className:"h-3.5 w-3.5 fill-primary"})})}));S.displayName=T.displayName;var G=a(10906),V=a(75987),z=a(17916),W=a(79501),X=a(34631),H=a(3387),B=a(47358),J=a(34178),Q=a(2704);function Y({preferredPaymentMethod:e}){let r=(0,J.useRouter)(),a=(0,Q.cI)({resolver:(0,X.F)(W.LD),defaultValues:{type:e||z.p7}}),[i,c]=(0,o.useTransition)(),{toast:l}=(0,G.pm)();async function u(e){c(async()=>{let a=await (0,V.Fy)(e);if(!a.success){l({variant:"destructive",description:a.message});return}r.push("/place-order")})}return(0,t.jsxs)(t.Fragment,{children:[t.jsx(s.Z,{current:2}),t.jsx("div",{className:"max-w-md mx-auto",children:t.jsx(n.l0,{...a,children:(0,t.jsxs)("form",{method:"post",onSubmit:a.handleSubmit(u),className:"space-y-4",children:[t.jsx("h1",{className:"h2-bold mt-4",children:"Payment Method"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Please select your preferred payment method"}),t.jsx("h3",{className:"mt-8 h3-bold"}),t.jsx("div",{className:"flex flex-col gap-5 md:flex-row",children:t.jsx(n.Wi,{control:a.control,name:"type",render:({field:e})=>(0,t.jsxs)(n.xJ,{className:"space-y-3",children:[t.jsx(n.NI,{children:t.jsx(O,{onValueChange:e.onChange,className:"flex flex-col space-y-2",children:z.LM.map(r=>(0,t.jsxs)(n.xJ,{className:"flex items-center space-x-3 space-y-0",children:[t.jsx(n.NI,{children:t.jsx(S,{value:r,checked:e.value===r})}),t.jsx(n.lX,{className:"font-normal",children:r})]},r))})}),t.jsx(n.zG,{})]})})}),t.jsx("div",{className:"flex gap-2",children:(0,t.jsxs)(d.z,{type:"submit",disabled:i,children:[i?t.jsx(H.Z,{className:"animate-spin w-4 h-4"}):t.jsx(B.Z,{className:"w-4 h-4"}),"Continue"]})})]})})})]})}},43235:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});var t=a(97247),s=a(28964),d=a.n(s),n=a(25008);let o=({current:e=0})=>t.jsx("div",{className:"flex-between  flex-col md:flex-row  space-x-2 space-y-2",children:["User Login","Shipping Address","Payment Method","Place Order"].map((r,a)=>(0,t.jsxs)(d().Fragment,{children:[t.jsx("div",{className:(0,n.cn)("p-2 w-56 rounded-full text-center  text-sm",a===e?"bg-secondary":""),children:r}),"Place Order"!==r&&t.jsx("hr",{className:"w-16 border-t border-gray-300 mx-2"})]},r))})},58053:(e,r,a)=>{"use strict";a.d(r,{z:()=>c});var t=a(97247),s=a(28964),d=a(69008),n=a(77247),o=a(25008);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:r,size:a,asChild:s=!1,...n},c)=>{let l=s?d.g7:"button";return t.jsx(l,{className:(0,o.cn)(i({variant:r,size:a,className:e})),ref:c,...n})});c.displayName="Button"},52208:(e,r,a)=>{"use strict";a.d(r,{NI:()=>h,Wi:()=>u,l0:()=>c,lX:()=>p,xJ:()=>b,zG:()=>x});var t=a(97247),s=a(28964),d=a(69008),n=a(2704),o=a(25008),i=a(22394);let c=n.RV,l=s.createContext({}),u=({...e})=>t.jsx(l.Provider,{value:{name:e.name},children:t.jsx(n.Qr,{...e})}),m=()=>{let e=s.useContext(l),r=s.useContext(f),{getFieldState:a,formState:t}=(0,n.Gc)(),d=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...d}},f=s.createContext({}),b=s.forwardRef(({className:e,...r},a)=>{let d=s.useId();return t.jsx(f.Provider,{value:{id:d},children:t.jsx("div",{ref:a,className:(0,o.cn)("space-y-2",e),...r})})});b.displayName="FormItem";let p=s.forwardRef(({className:e,...r},a)=>{let{error:s,formItemId:d}=m();return t.jsx(i._,{ref:a,className:(0,o.cn)(s&&"text-destructive",e),htmlFor:d,...r})});p.displayName="FormLabel";let h=s.forwardRef(({...e},r)=>{let{error:a,formItemId:s,formDescriptionId:n,formMessageId:o}=m();return t.jsx(d.g7,{ref:r,id:s,"aria-describedby":a?`${n} ${o}`:`${n}`,"aria-invalid":!!a,...e})});h.displayName="FormControl",s.forwardRef(({className:e,...r},a)=>{let{formDescriptionId:s}=m();return t.jsx("p",{ref:a,id:s,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",e),...r})}).displayName="FormDescription";let x=s.forwardRef(({className:e,children:r,...a},s)=>{let{error:d,formMessageId:n}=m(),i=d?String(d?.message):r;return i?t.jsx("p",{ref:s,id:n,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",e),...a,children:i}):null});x.displayName="FormMessage"},22394:(e,r,a)=>{"use strict";a.d(r,{_:()=>c});var t=a(97247),s=a(28964),d=a(40768),n=a(77247),o=a(25008);let i=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},a)=>t.jsx(d.f,{ref:a,className:(0,o.cn)(i(),e),...r}));c.displayName=d.f.displayName},75987:(e,r,a)=>{"use strict";a.d(r,{$X:()=>o,Fy:()=>s,c4:()=>n,y1:()=>d}),a(70689);var t=a(11294),s=(0,t.$)("abc73778e07b95e9d8f15868fea7f03dbbca9e71"),d=(0,t.$)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),n=(0,t.$)("c90075d8792b89f7584984a67b421aab69e556af");(0,t.$)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),(0,t.$)("4896ea1b4f1dace1ade49eb3651161dc0c4f102a");var o=(0,t.$)("7ef6945e100c99ebbac8da6a81410b4410597f01")},17916:(e,r,a)=>{"use strict";a.d(r,{LM:()=>t,dF:()=>o,p7:()=>s,y5:()=>d,yW:()=>n});let t=process.env.PAYMENT_METHODS?process.env.PAYMENT_METHODS.split(", "):["PayPal","Stripe"],s=process.env.DEFAULT_PAYMENT_METHOD||"PayPal",d={email:"",password:""},n={name:"",email:"",password:"",confirmPassword:""},o={fullName:"",streetAddress:"",city:"",postalCode:"",country:""}},79501:(e,r,a)=>{"use strict";a.d(r,{LD:()=>o,tV:()=>n});var t=a(47751),s=a(25008),d=a(17916);t.Ry({email:t.Z_().email().min(3,"Email must be at least 3 characters"),password:t.Z_().min(3,"Password must be at least 3 characters")}),t.Ry({name:t.Z_().min(3,"Name must be at least 3 characters"),email:t.Z_().email().min(3,"Email must be at least 3 characters"),password:t.Z_().min(3,"Password must be at least 3 characters"),confirmPassword:t.Z_().min(3,"Confirm password must be at least 3 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),t.Ry({productId:t.Z_().min(1,"Product is required"),name:t.Z_().min(1,"Name is required"),slug:t.Z_().min(1,"Slug is required"),qty:t.Rx().int().nonnegative("Quantity must be a non-negative number"),image:t.Z_().min(1,"Image is required"),price:t.Rx().refine(e=>/^\d+(\.\d{2})?$/.test((0,s.Aj)(e)),"Price must have exactly two decimal places (e.g., 49.99)")});let n=t.Ry({fullName:t.Z_().min(3,"Name must be at least 3 characters"),streetAddress:t.Z_().min(3,"Address must be at least 3 characters"),city:t.Z_().min(3,"city must be at least 3 characters"),postalCode:t.Z_().min(3,"Postal code must be at least 3 characters"),country:t.Z_().min(3,"Country must be at least 3 characters"),lat:t.Rx().optional(),lng:t.Rx().optional()}),o=t.Ry({type:t.Z_().min(1,"Payment method is required")}).refine(e=>d.LM.includes(e.type),{path:["type"],message:"Invalid payment method"})},14330:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c,metadata:()=>i});var t=a(72051),s=a(89112);let d=(0,a(45347).createProxy)(String.raw`/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/payment-method/payment-method-form.tsx#default`);var n=a(1779),o=a(23829);let i={title:`Payment Method - ${s.iC}`};async function c(){let e=await (0,n.I8)(),r=await (0,o.getUserById)(e?.user.id);return t.jsx(d,{preferredPaymentMethod:r.paymentMethod})}}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[329,51,542,104,243,923,343,599],()=>a(36223));module.exports=t})();