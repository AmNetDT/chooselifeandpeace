(()=>{var e={};e.id=264,e.ids=[264],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},92190:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c}),r(76243),r(35319),r(90996),r(13529);var a=r(30170),n=r(45002),s=r(83876),d=r.n(s),o=r(66299),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let c=["",{children:["(root)",{children:["order",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76243)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,35319)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,13529)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/page.tsx"],u="/(root)/order/[id]/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(root)/order/[id]/page",pathname:"/order/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77428:(e,t,r)=>{let a={"413193ecb56048609af8628b5e95dee0ff5a93cf":()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.updateOrderToPaid),"52c4508c960f2657f71a1fde5a781c8b1e116f52":()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.approvePayPalOrder),"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c":()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.getOrderById),"62915f7c5455fffd80487d2ea4fe069934717803":()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.$$ACTION_0),"8428591957a96fc1d06bdf1ae8a31cca2aed9436":()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.$$ACTION_1),d20716accc4a0d8fc583e0f1745f62f4af5f6691:()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.createPayPalOrder),ea248243752e282f1c9161e3241b42d6adba1007:()=>Promise.resolve().then(r.bind(r,89043)).then(e=>e.createOrder),"41fc677b184effcb0016e001cd930a9fb30ddb0a":()=>Promise.resolve().then(r.bind(r,6001)).then(e=>e.addItemToCart),"9ca5872de79006ed19093a5fb9a9561bb840e13b":()=>Promise.resolve().then(r.bind(r,6001)).then(e=>e.$$ACTION_1),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:()=>Promise.resolve().then(r.bind(r,6001)).then(e=>e.$$ACTION_0),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:()=>Promise.resolve().then(r.bind(r,6001)).then(e=>e.removeItemFromCart),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:()=>Promise.resolve().then(r.bind(r,6001)).then(e=>e.getMyCart),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.getUserById),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.SignOut),"7ef6945e100c99ebbac8da6a81410b4410597f01":()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.updateUserAddress),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.$$ACTION_0),abc73778e07b95e9d8f15868fea7f03dbbca9e71:()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.updateUserPaymentMethod),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.signUp),c90075d8792b89f7584984a67b421aab69e556af:()=>Promise.resolve().then(r.bind(r,23829)).then(e=>e.signInWithCredentials)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"413193ecb56048609af8628b5e95dee0ff5a93cf":n.bind(null,"413193ecb56048609af8628b5e95dee0ff5a93cf"),"52c4508c960f2657f71a1fde5a781c8b1e116f52":n.bind(null,"52c4508c960f2657f71a1fde5a781c8b1e116f52"),"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c":n.bind(null,"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c"),"62915f7c5455fffd80487d2ea4fe069934717803":n.bind(null,"62915f7c5455fffd80487d2ea4fe069934717803"),"8428591957a96fc1d06bdf1ae8a31cca2aed9436":n.bind(null,"8428591957a96fc1d06bdf1ae8a31cca2aed9436"),d20716accc4a0d8fc583e0f1745f62f4af5f6691:n.bind(null,"d20716accc4a0d8fc583e0f1745f62f4af5f6691"),ea248243752e282f1c9161e3241b42d6adba1007:n.bind(null,"ea248243752e282f1c9161e3241b42d6adba1007"),"41fc677b184effcb0016e001cd930a9fb30ddb0a":n.bind(null,"41fc677b184effcb0016e001cd930a9fb30ddb0a"),"9ca5872de79006ed19093a5fb9a9561bb840e13b":n.bind(null,"9ca5872de79006ed19093a5fb9a9561bb840e13b"),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:n.bind(null,"d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473"),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:n.bind(null,"d33ae3afc17ff86a896b65bbc01c77b3fd04f032"),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:n.bind(null,"fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c"),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":n.bind(null,"4896ea1b4f1dace1ade49eb3651161dc0c4f102a"),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":n.bind(null,"6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),"7ef6945e100c99ebbac8da6a81410b4410597f01":n.bind(null,"7ef6945e100c99ebbac8da6a81410b4410597f01"),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":n.bind(null,"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4"),abc73778e07b95e9d8f15868fea7f03dbbca9e71:n.bind(null,"abc73778e07b95e9d8f15868fea7f03dbbca9e71"),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:n.bind(null,"be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),c90075d8792b89f7584984a67b421aab69e556af:n.bind(null,"c90075d8792b89f7584984a67b421aab69e556af")}},27205:(e,t,r)=>{Promise.resolve().then(r.bind(r,77976))},77976:(e,t,r)=>{"use strict";r.d(t,{default:()=>B});var a,n,s,d=r(97247),o=r(28964),i=r.n(o);(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(a||(a={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(n||(n={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(s||(s={}));var c=function(){return(c=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function l(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function u(e,t,r){if(r||2==arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var f="data-react-paypal-script-id",p={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},b="paypal";function m(e){return void 0===e&&(e=b),window[e]}function h(e){var t=e.reactComponentName,r=e.sdkComponentKey,a=e.sdkRequestedComponents,n=void 0===a?"":a,s=e.sdkDataNamespace,d=r.charAt(0).toUpperCase().concat(r.substring(1)),o="Unable to render <".concat(t," /> because window.").concat(void 0===s?b:s,".").concat(d," is undefined."),i="string"==typeof n?n:n.join(",");if(!i.includes(r)){var c=[i,r].filter(Boolean).join();o+="\nTo fix the issue, add '".concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return o}function v(e){e[f];var t=l(e,[f+""]);return"react-paypal-js-".concat(function(e){for(var t="",r=0;r<e.length;r++){var a=e[r].charCodeAt(0)*r;e[r+1]&&(a+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(a)%26)}return t}(JSON.stringify(t)))}function y(e,t){var r,s,d,o;switch(t.type){case n.LOADING_STATUS:if("object"==typeof t.value)return c(c({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message});return c(c({},e),{loadingStatus:t.value});case n.RESET_OPTIONS:return d=e.options[f],(null==(o=self.document.querySelector("script[".concat(f,'="').concat(d,'"]')))?void 0:o.parentNode)&&o.parentNode.removeChild(o),c(c({},e),{loadingStatus:a.PENDING,options:c(c(((r={})[p.DATA_SDK_INTEGRATION_SOURCE]=p.DATA_LIBRARY_VALUE,r),t.value),((s={})[f]="".concat(v(t.value)),s))});case n.SET_BRAINTREE_INSTANCE:return c(c({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var x=(0,o.createContext)(null);function P(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,o.useContext)(x));return[c(c({},e),{isInitial:e.loadingStatus===a.INITIAL,isPending:e.loadingStatus===a.PENDING,isResolved:e.loadingStatus===a.RESOLVED,isRejected:e.loadingStatus===a.REJECTED}),e.dispatch]}(0,o.createContext)({});var g=function(e){var t,r=e.className,a=e.disabled,n=void 0!==a&&a,s=e.children,d=e.forceReRender,f=l(e,["className","disabled","children","forceReRender"]),b="".concat(void 0===r?"":r," ").concat(n?"paypal-buttons-disabled":"").trim(),v=(0,o.useRef)(null),y=(0,o.useRef)(null),x=P()[0],A=x.isResolved,N=x.options,E=(0,o.useState)(null),j=E[0],w=E[1],T=(0,o.useState)(!0),I=T[0],O=T[1],S=(0,o.useState)(null)[1];function R(){null!==y.current&&y.current.close().catch(function(){})}return(null===(t=y.current)||void 0===t?void 0:t.updateProps)&&y.current.updateProps({message:f.message}),(0,o.useEffect)(function(){if(!1===A)return R;var e=m(N.dataNamespace);if(void 0===e||void 0===e.Buttons)return S(function(){throw Error(h({reactComponentName:g.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[p.DATA_NAMESPACE]}))}),R;try{y.current=e.Buttons(c(c({},f),{onInit:function(e,t){w(t),"function"==typeof f.onInit&&f.onInit(e,t)}}))}catch(e){return S(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===y.current.isEligible()?O(!1):v.current&&y.current.render(v.current).catch(function(e){null!==v.current&&0!==v.current.children.length&&S(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),R},u(u([A],void 0===d?[]:d,!0),[f.fundingSource],!1)),(0,o.useEffect)(function(){null!==j&&(!0===n?j.disable().catch(function(){}):j.enable().catch(function(){}))},[n,j]),i().createElement(i().Fragment,null,I?i().createElement("div",{ref:v,style:n?{opacity:.38}:{},className:b}):s)};function A(e,t){void 0===t&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(e){r.setAttribute(e,t[e]),"data-csp-nonce"===e&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function N(e,t){if("object"!=typeof e||null===e)throw Error("Expected an options object.");var r=e.environment;if(r&&"production"!==r&&"sandbox"!==r)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==t&&"function"!=typeof t)throw Error("Expected PromisePonyfill to be a function.")}g.displayName="PayPalButtons";var E=function(e){var t=e.className,r=e.children,a=l(e,["className","children"]),n=P()[0],s=n.isResolved,d=n.options,u=(0,o.useRef)(null),f=(0,o.useState)(!0),b=f[0],v=f[1],y=(0,o.useState)(null)[1],x=function(e){var t=u.current;if(!t||!e.isEligible())return v(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch(function(e){null!==t&&0!==t.children.length&&y(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,o.useEffect)(function(){if(!1!==s){var e=m(d[p.DATA_NAMESPACE]);if(void 0===e||void 0===e.Marks)return y(function(){throw Error(h({reactComponentName:E.displayName,sdkComponentKey:"marks",sdkRequestedComponents:d.components,sdkDataNamespace:d[p.DATA_NAMESPACE]}))});x(e.Marks(c({},a)))}},[s,a.fundingSource]),i().createElement(i().Fragment,null,b?i().createElement("div",{ref:u,className:void 0===t?"":t}):r)};E.displayName="PayPalMarks";var j=function(e){var t=e.className,r=e.forceReRender,a=l(e,["className","forceReRender"]),n=P()[0],s=n.isResolved,d=n.options,f=(0,o.useRef)(null),b=(0,o.useRef)(null),v=(0,o.useState)(null)[1];return(0,o.useEffect)(function(){if(!1!==s){var e=m(d[p.DATA_NAMESPACE]);if(void 0===e||void 0===e.Messages)return v(function(){throw Error(h({reactComponentName:j.displayName,sdkComponentKey:"messages",sdkRequestedComponents:d.components,sdkDataNamespace:d[p.DATA_NAMESPACE]}))});b.current=e.Messages(c({},a)),b.current.render(f.current).catch(function(e){null!==f.current&&0!==f.current.children.length&&v(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},u([s],void 0===r?[]:r,!0)),i().createElement("div",{ref:f,className:void 0===t?"":t})};j.displayName="PayPalMessages";var w=function(e){var t,r=e.options,s=void 0===r?{clientId:"test"}:r,d=e.children,l=e.deferLoading,u=void 0!==l&&l,b=(0,o.useReducer)(y,{options:c(c({},s),((t={})[p.DATA_JS_SDK_LIBRARY]=p.DATA_LIBRARY_VALUE,t[p.DATA_SDK_INTEGRATION_SOURCE]=p.DATA_LIBRARY_VALUE,t[f]="".concat(v(s)),t)),loadingStatus:u?a.INITIAL:a.PENDING}),m=b[0],h=b[1];return(0,o.useEffect)(function(){if(!1===u&&m.loadingStatus===a.INITIAL)return h({type:n.LOADING_STATUS,value:a.PENDING});if(m.loadingStatus===a.PENDING){var e=!0;return(function(e,t){if(void 0===t&&(t=Promise),N(e,t),"undefined"==typeof document)return t.resolve(null);var r,a,n,s,d,o=(a="sandbox"===e.environment?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js",delete e.environment,e.sdkBaseUrl&&(a=e.sdkBaseUrl,delete e.sdkBaseUrl),s=(n=Object.keys(e).filter(function(t){return void 0!==e[t]&&null!==e[t]&&""!==e[t]}).reduce(function(t,r){var a=e[r].toString();return"data"===(r=r.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})).substring(0,4)||"crossorigin"===r?t.attributes[r]=a:t.queryParams[r]=a,t},{queryParams:{},attributes:{}})).queryParams,d=n.attributes,s["merchant-id"]&&-1!==s["merchant-id"].indexOf(",")&&(d["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(a,"?").concat((r="",Object.keys(s).forEach(function(e){0!==r.length&&(r+="&"),r+=e+"="+s[e]}),r)),attributes:d}),i=o.url,c=o.attributes,l=c["data-namespace"]||"paypal",u=window[l];return(c["data-js-sdk-library"]||(c["data-js-sdk-library"]="paypal-js"),function(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(null===r)return null;var a=A(e,t),n=r.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(a.dataset).length)return null;var s=!0;return Object.keys(n.dataset).forEach(function(e){n.dataset[e]!==a.dataset[e]&&(s=!1)}),s?r:null}(i,c)&&u)?t.resolve(u):(function(e,t){void 0===t&&(t=Promise),N(e,t);var r=e.url,a=e.attributes;if("string"!=typeof r||0===r.length)throw Error("Invalid url.");if(void 0!==a&&"object"!=typeof a)throw Error("Expected attributes to be an object.");return new t(function(e,t){var n,s,d,o,i,c;if("undefined"==typeof document)return e();s=(n={url:r,attributes:a,onSuccess:function(){return e()},onError:function(){return t(Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,d=n.attributes,o=n.onSuccess,i=n.onError,(c=A(s,d)).onerror=i,c.onload=o,document.head.insertBefore(c,document.head.firstElementChild)})})({url:i,attributes:c},t).then(function(){var e=window[l];if(e)return e;throw Error("The window.".concat(l," global variable is not available."))})})(m.options).then(function(){e&&h({type:n.LOADING_STATUS,value:a.RESOLVED})}).catch(function(t){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(t)),e&&h({type:n.LOADING_STATUS,value:{state:a.REJECTED,message:String(t)}})}),function(){e=!1}}},[m.options,u,m.loadingStatus]),i().createElement(x.Provider,{value:c(c({},m),{dispatch:h})},d)};function T(){}(0,o.createContext)({cardFieldsForm:null,fields:{},registerField:T,unregisterField:T});var I={IDEAL:"ideal",BANCONTACT:"bancontact",GIROPAY:"giropay",SOFORT:"sofort",EPS:"eps",MYBANK:"mybank",P24:"p24",PAYU:"payu",BLIK:"blik",TRUSTLY:"trustly",OXXO:"oxxo",BOLETO:"boleto",BOLETOBANCARIO:"boletobancario",WECHATPAY:"wechatpay",MERCADOPAGO:"mercadopago",MULTIBANCO:"multibanco",SATISPAY:"satispay",PAIDY:"paidy",ZIMPLER:"zimpler",MAXIMA:"maxima"};I.IDEAL,I.BANCONTACT,I.GIROPAY,I.SOFORT,I.EPS,I.MYBANK,I.P24,I.PAYU,I.BLIK,I.TRUSTLY,I.OXXO,I.BOLETO,I.BOLETOBANCARIO,I.WECHATPAY,I.MERCADOPAGO,I.MULTIBANCO,I.SATISPAY,I.PAIDY,I.MAXIMA,I.ZIMPLER;var O=r(77247),S=r(25008);let R=(0,O.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C({className:e,variant:t,...r}){return d.jsx("div",{className:(0,S.cn)(R({variant:t}),e),...r})}var _=r(27757),D=r(44283),k=r(10906),L=r(44597),M=r(79906),q=r(31886);function B({order:e,paypalClientId:t}){let{shippingAddress:r,orderItems:a,itemsPrice:n,taxPrice:s,shippingPrice:o,totalPrice:i,paymentMethod:c,isPaid:l,paidAt:u,isDelivered:f,deliveredAt:p}=e,{toast:b}=(0,k.pm)(),m=async()=>{let t=await (0,q.ZM)(e.id);return t.success?t.data:b({description:t.message,variant:"destructive"})},h=async t=>{let r=await (0,q.Yx)(e.id,t);b({description:r.message,variant:r.success?"default":"destructive"})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h1",{className:"py-4 text-2xl",children:[" Order ",(0,S.P2)(e.id)]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 md:gap-5",children:[(0,d.jsxs)("div",{className:"overflow-x-auto md:col-span-2 space-y-4",children:[d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Payment Method"}),d.jsx("p",{children:c}),l?(0,d.jsxs)(C,{variant:"secondary",children:["Paid at ",(0,S.o0)(u).dateTime]}):d.jsx(C,{variant:"destructive",children:"Not paid"})]})}),d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Shipping Address"}),d.jsx("p",{children:r.fullName}),(0,d.jsxs)("p",{children:[r.streetAddress,", ",r.city,","," ",r.postalCode,", ",r.country," "]}),f?(0,d.jsxs)(C,{variant:"secondary",children:["Delivered at ",(0,S.o0)(p).dateTime]}):d.jsx(C,{variant:"destructive",children:"Not delivered"})]})}),d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Order Items"}),(0,d.jsxs)(D.iA,{children:[d.jsx(D.xD,{children:(0,d.jsxs)(D.SC,{children:[d.jsx(D.ss,{children:"Item"}),d.jsx(D.ss,{children:"Quantity"}),d.jsx(D.ss,{children:"Price"})]})}),d.jsx(D.RM,{children:a.map(e=>(0,d.jsxs)(D.SC,{children:[d.jsx(D.pj,{children:(0,d.jsxs)(M.default,{href:`/product/${e.slug}`,className:"flex items-center",children:[d.jsx(L.default,{src:e.image,alt:e.name,width:50,height:50}),d.jsx("span",{className:"px-2",children:e.name})]})}),d.jsx(D.pj,{children:d.jsx("span",{className:"px-2",children:e.qty})}),(0,d.jsxs)(D.pj,{className:"text-right",children:["$",e.price]})]},e.slug))})]})]})})]}),d.jsx("div",{children:d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 space-y-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Order Summary"}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Items"}),d.jsx("div",{children:(0,S.xG)(n)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Tax"}),d.jsx("div",{children:(0,S.xG)(s)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Shipping"}),d.jsx("div",{children:(0,S.xG)(o)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Total"}),d.jsx("div",{children:(0,S.xG)(i)})]}),!l&&"PayPal"===c&&d.jsx("div",{children:(0,d.jsxs)(w,{options:{clientId:t},children:[d.jsx(function(){let[{isPending:e,isRejected:t}]=P(),r="";return e?r="Loading PayPal...":t&&(r="Error in loading PayPal."),r},{}),d.jsx(g,{createOrder:m,onApprove:h})]})})]})})})]})]})}},27757:(e,t,r)=>{"use strict";r.d(t,{Zb:()=>d,aY:()=>o});var a=r(97247),n=r(28964),s=r(25008);let d=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));d.displayName="Card",n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",n.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},44283:(e,t,r)=>{"use strict";r.d(t,{RM:()=>i,SC:()=>c,iA:()=>d,pj:()=>u,ss:()=>l,xD:()=>o});var a=r(97247),n=r(28964),s=r(25008);let d=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));d.displayName="Table";let o=n.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let i=n.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",n.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let c=n.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));c.displayName="TableRow";let l=n.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:(0,s.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));l.displayName="TableHead";let u=n.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:(0,s.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));u.displayName="TableCell",n.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},31886:(e,t,r)=>{"use strict";r.d(t,{LV:()=>n,Yx:()=>d,ZM:()=>s}),r(70689);var a=r(11294);(0,a.$)("413193ecb56048609af8628b5e95dee0ff5a93cf"),(0,a.$)("5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c");var n=(0,a.$)("ea248243752e282f1c9161e3241b42d6adba1007"),s=(0,a.$)("d20716accc4a0d8fc583e0f1745f62f4af5f6691"),d=(0,a.$)("52c4508c960f2657f71a1fde5a781c8b1e116f52")},44597:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var a=r(91561),n=r.n(a)},79906:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var a=r(34080),n=r.n(a)},11294:(e,t,r)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let a=r(70689);function n(e){let{createServerReference:t}=r(75032);return t(e,a.callServer)}},91561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let a=r(20352),n=r(44401),s=r(15889),d=a._(r(99857));function o(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=s.Image},76243:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>i});var a=r(72051),n=r(89043),s=r(89112),d=r(41288);let o=(0,r(45347).createProxy)(String.raw`/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/order-details-form.tsx#default`),i={title:`Order Details - ${s.iC}`},c=async({params:{id:e}})=>{let t=await (0,n.getOrderById)(e);return t||(0,d.notFound)(),t.user,a.jsx(o,{order:t,paypalClientId:process.env.PAYPAL_CLIENT_ID||"sb"})}},89043:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>N,$$ACTION_1:()=>T,approvePayPalOrder:()=>j,createOrder:()=>A,createPayPalOrder:()=>E,getOrderById:()=>g,updateOrderToPaid:()=>w});var a=r(94214);r(84674);var n=r(1779),s=r(6001),d=r(23829),o=r(41288),i=r(45315),c=r(9396),l=r(53117),u=r(29785),f=r(84214),p=r(1192),b=r(37170);let m=process.env.PAYPAL_API_URL||"https://api-m.sandbox.paypal.com",h={createOrder:async function(e){let t=await v(),r=`${m}/v2/checkout/orders`;return y(await fetch(r,{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:e}}]})}))},capturePayment:async function(e){let t=await v(),r=`${m}/v2/checkout/orders/${e}/capture`;return y(await fetch(r,{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}))}};async function v(){let{PAYPAL_CLIENT_ID:e,PAYPAL_APP_SECRET:t}=process.env,r=Buffer.from(e+":"+t).toString("base64"),a=await fetch(`${m}/v1/oauth2/token`,{method:"post",body:"grant_type=client_credentials",headers:{Authorization:`Basic ${r}`}});return(await y(a)).access_token}async function y(e){if(200===e.status||201===e.status)return e.json();throw Error(await e.text())}var x=r(6778),P=r(54772);async function g(e){return await c.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e),with:{orderItems:!0,user:{columns:{name:!0,email:!0}}}})}let A=(0,a.j)("62915f7c5455fffd80487d2ea4fe069934717803",N);async function N(){try{let e=await (0,n.I8)();if(!e)throw Error("User is not authenticated");let t=await (0,s.getMyCart)(),r=await (0,d.getUserById)(e?.user.id);t&&0!==t.items.length||(0,o.redirect)("/cart"),r.address||(0,o.redirect)("/shipping-address"),r.paymentMethod||(0,o.redirect)("/payment-method");let a=i.Mn.parse({userId:r.id,shippingAddress:r.address,paymentMethod:r.paymentMethod,itemsPrice:t.itemsPrice,shippingPrice:t.shippingPrice,taxPrice:t.taxPrice,totalPrice:t.totalPrice}),f=await c.Z.transaction(async e=>{let r=await e.insert(l.orders).values(a).returning();for(let a of t.items)await e.insert(l.orderItems).values({...a,price:a.price.toFixed(2),orderId:r[0].id});return await c.Z.update(l.carts).set({items:[],totalPrice:"0",shippingPrice:"0",taxPrice:"0",itemsPrice:"0"}).where((0,u.eq)(l.carts.id,t.id)),r[0].id});if(!f)throw Error("Order not created");(0,o.redirect)(`/order/${f}`)}catch(e){if((0,p.isRedirectError)(e))throw e;return{success:!1,message:(0,b.Z)(e)}}}async function E(e){try{let t=await c.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e)});if(t){let r=await h.createOrder(Number(t.totalPrice));return await c.Z.update(l.orders).set({paymentResult:{id:r.id,email_address:"",status:"",pricePaid:"0"}}).where((0,u.eq)(l.orders.id,e)),{success:!0,message:"PayPal order created successfully",data:r.id}}throw Error("Order not found")}catch(e){return{success:!1,message:(0,b.Z)(e)}}}async function j(e,t){try{let r=await c.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e)});if(!r)throw Error("Order not found");let a=await h.capturePayment(t.orderID);if(!a||a.id!==r.paymentResult?.id||"COMPLETED"!==a.status)throw Error("Error in paypal payment");return await w({orderId:e,paymentResult:{id:a.id,status:a.status,email_address:a.payer.email_address,pricePaid:a.purchase_units[0]?.payments?.captures[0]?.amount?.value}}),(0,x.revalidatePath)(`/order/${e}`),{success:!0,message:"Your order has been successfully paid by PayPal"}}catch(e){return{success:!1,message:(0,b.Z)(e)}}}let w=(0,a.j)("8428591957a96fc1d06bdf1ae8a31cca2aed9436",T);async function T({orderId:e,paymentResult:t}){let r=await c.Z.query.orders.findFirst({columns:{isPaid:!0},where:(0,u.eq)(l.orders.id,e),with:{orderItems:!0}});if(!r)throw Error("Order not found");if(r.isPaid)throw Error("Order is already paid");await c.Z.transaction(async a=>{for(let e of r.orderItems)await a.update(l.products).set({stock:(0,f.i6)`${l.products.stock} - ${e.qty}`}).where((0,u.eq)(l.products.id,e.productId));await a.update(l.orders).set({isPaid:!0,paidAt:new Date,paymentResult:t}).where((0,u.eq)(l.orders.id,e))})}(0,P.h)([g,A,E,j,w]),(0,a.j)("5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c",g),(0,a.j)("ea248243752e282f1c9161e3241b42d6adba1007",A),(0,a.j)("d20716accc4a0d8fc583e0f1745f62f4af5f6691",E),(0,a.j)("52c4508c960f2657f71a1fde5a781c8b1e116f52",j),(0,a.j)("413193ecb56048609af8628b5e95dee0ff5a93cf",w)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[329,390,542,104,955,343,298],()=>r(92190));module.exports=a})();