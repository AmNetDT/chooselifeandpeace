(()=>{var e={};e.id=264,e.ids=[264],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},92190:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>d.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>l,routeModule:()=>b,tree:()=>i}),t(76243),t(60827),t(90996),t(13529);var a=t(30170),n=t(45002),s=t(83876),d=t.n(s),o=t(66299),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let i=["",{children:["(root)",{children:["order",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,76243)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,60827)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,13529)),"/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/page.tsx"],u="/(root)/order/[id]/page",f={require:t,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(root)/order/[id]/page",pathname:"/order/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},29191:(e,r,t)=>{let a={"413193ecb56048609af8628b5e95dee0ff5a93cf":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.updateOrderToPaid),"52c4508c960f2657f71a1fde5a781c8b1e116f52":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.approvePayPalOrder),"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.getOrderById),"62915f7c5455fffd80487d2ea4fe069934717803":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.$$ACTION_0),"8428591957a96fc1d06bdf1ae8a31cca2aed9436":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.$$ACTION_1),"8b7a29abd0e74ef74c46c98c97840b6db3b5145f":()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.getMyOrders),d20716accc4a0d8fc583e0f1745f62f4af5f6691:()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.createPayPalOrder),ea248243752e282f1c9161e3241b42d6adba1007:()=>Promise.resolve().then(t.bind(t,89043)).then(e=>e.createOrder),"41fc677b184effcb0016e001cd930a9fb30ddb0a":()=>Promise.resolve().then(t.bind(t,6001)).then(e=>e.addItemToCart),"9ca5872de79006ed19093a5fb9a9561bb840e13b":()=>Promise.resolve().then(t.bind(t,6001)).then(e=>e.$$ACTION_1),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:()=>Promise.resolve().then(t.bind(t,6001)).then(e=>e.$$ACTION_0),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:()=>Promise.resolve().then(t.bind(t,6001)).then(e=>e.removeItemFromCart),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:()=>Promise.resolve().then(t.bind(t,6001)).then(e=>e.getMyCart),"37248d5a5d92203bea071298526bbf56bd6a282e":()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.updateProfile),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.getUserById),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.SignOut),"7ef6945e100c99ebbac8da6a81410b4410597f01":()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.updateUserAddress),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.$$ACTION_0),abc73778e07b95e9d8f15868fea7f03dbbca9e71:()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.updateUserPaymentMethod),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.signUp),c90075d8792b89f7584984a67b421aab69e556af:()=>Promise.resolve().then(t.bind(t,23829)).then(e=>e.signInWithCredentials)};async function n(e,...r){return(await a[e]()).apply(null,r)}e.exports={"413193ecb56048609af8628b5e95dee0ff5a93cf":n.bind(null,"413193ecb56048609af8628b5e95dee0ff5a93cf"),"52c4508c960f2657f71a1fde5a781c8b1e116f52":n.bind(null,"52c4508c960f2657f71a1fde5a781c8b1e116f52"),"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c":n.bind(null,"5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c"),"62915f7c5455fffd80487d2ea4fe069934717803":n.bind(null,"62915f7c5455fffd80487d2ea4fe069934717803"),"8428591957a96fc1d06bdf1ae8a31cca2aed9436":n.bind(null,"8428591957a96fc1d06bdf1ae8a31cca2aed9436"),"8b7a29abd0e74ef74c46c98c97840b6db3b5145f":n.bind(null,"8b7a29abd0e74ef74c46c98c97840b6db3b5145f"),d20716accc4a0d8fc583e0f1745f62f4af5f6691:n.bind(null,"d20716accc4a0d8fc583e0f1745f62f4af5f6691"),ea248243752e282f1c9161e3241b42d6adba1007:n.bind(null,"ea248243752e282f1c9161e3241b42d6adba1007"),"41fc677b184effcb0016e001cd930a9fb30ddb0a":n.bind(null,"41fc677b184effcb0016e001cd930a9fb30ddb0a"),"9ca5872de79006ed19093a5fb9a9561bb840e13b":n.bind(null,"9ca5872de79006ed19093a5fb9a9561bb840e13b"),d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473:n.bind(null,"d2d3db1dd1f5ae5ad5053f8ad3bc0f2da4d94473"),d33ae3afc17ff86a896b65bbc01c77b3fd04f032:n.bind(null,"d33ae3afc17ff86a896b65bbc01c77b3fd04f032"),fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c:n.bind(null,"fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c"),"37248d5a5d92203bea071298526bbf56bd6a282e":n.bind(null,"37248d5a5d92203bea071298526bbf56bd6a282e"),"4896ea1b4f1dace1ade49eb3651161dc0c4f102a":n.bind(null,"4896ea1b4f1dace1ade49eb3651161dc0c4f102a"),"6f62a9caef1528e29ef4461e98a41e80f8b1eae5":n.bind(null,"6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),"7ef6945e100c99ebbac8da6a81410b4410597f01":n.bind(null,"7ef6945e100c99ebbac8da6a81410b4410597f01"),"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4":n.bind(null,"9894e6c57f99a2f4eccac4a43c9c453c2e8680a4"),abc73778e07b95e9d8f15868fea7f03dbbca9e71:n.bind(null,"abc73778e07b95e9d8f15868fea7f03dbbca9e71"),be840f0dc3afac8b8d0c6b02dc3328bacb294db1:n.bind(null,"be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),c90075d8792b89f7584984a67b421aab69e556af:n.bind(null,"c90075d8792b89f7584984a67b421aab69e556af")}},27205:(e,r,t)=>{Promise.resolve().then(t.bind(t,77976))},95259:(e,r,t)=>{Promise.resolve().then(t.bind(t,21615)),Promise.resolve().then(t.bind(t,27387)),Promise.resolve().then(t.bind(t,6047)),Promise.resolve().then(t.bind(t,94049)),Promise.resolve().then(t.t.bind(t,15889,23)),Promise.resolve().then(t.t.bind(t,34080,23))},77976:(e,r,t)=>{"use strict";t.d(r,{default:()=>B});var a,n,s,d=t(97247),o=t(28964),c=t.n(o);(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(a||(a={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(n||(n={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(s||(s={}));var i=function(){return(i=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function l(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>r.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]]);return t}function u(e,r,t){if(t||2==arguments.length)for(var a,n=0,s=r.length;n<s;n++)!a&&n in r||(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}"function"==typeof SuppressedError&&SuppressedError;var f="data-react-paypal-script-id",b={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},p="paypal";function m(e){return void 0===e&&(e=p),window[e]}function h(e){var r=e.reactComponentName,t=e.sdkComponentKey,a=e.sdkRequestedComponents,n=void 0===a?"":a,s=e.sdkDataNamespace,d=t.charAt(0).toUpperCase().concat(t.substring(1)),o="Unable to render <".concat(r," /> because window.").concat(void 0===s?p:s,".").concat(d," is undefined."),c="string"==typeof n?n:n.join(",");if(!c.includes(t)){var i=[c,t].filter(Boolean).join();o+="\nTo fix the issue, add '".concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(i,"'}}>`.")}return o}function v(e){e[f];var r=l(e,[f+""]);return"react-paypal-js-".concat(function(e){for(var r="",t=0;t<e.length;t++){var a=e[t].charCodeAt(0)*t;e[t+1]&&(a+=e[t+1].charCodeAt(0)*(t-1)),r+=String.fromCharCode(97+Math.abs(a)%26)}return r}(JSON.stringify(r)))}function y(e,r){var t,s,d,o;switch(r.type){case n.LOADING_STATUS:if("object"==typeof r.value)return i(i({},e),{loadingStatus:r.value.state,loadingStatusErrorMessage:r.value.message});return i(i({},e),{loadingStatus:r.value});case n.RESET_OPTIONS:return d=e.options[f],(null==(o=self.document.querySelector("script[".concat(f,'="').concat(d,'"]')))?void 0:o.parentNode)&&o.parentNode.removeChild(o),i(i({},e),{loadingStatus:a.PENDING,options:i(i(((t={})[b.DATA_SDK_INTEGRATION_SOURCE]=b.DATA_LIBRARY_VALUE,t),r.value),((s={})[f]="".concat(v(r.value)),s))});case n.SET_BRAINTREE_INSTANCE:return i(i({},e),{braintreePayPalCheckoutInstance:r.value});default:return e}}var x=(0,o.createContext)(null);function P(){var e=function(e){if("function"==typeof(null==e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}((0,o.useContext)(x));return[i(i({},e),{isInitial:e.loadingStatus===a.INITIAL,isPending:e.loadingStatus===a.PENDING,isResolved:e.loadingStatus===a.RESOLVED,isRejected:e.loadingStatus===a.REJECTED}),e.dispatch]}(0,o.createContext)({});var A=function(e){var r,t=e.className,a=e.disabled,n=void 0!==a&&a,s=e.children,d=e.forceReRender,f=l(e,["className","disabled","children","forceReRender"]),p="".concat(void 0===t?"":t," ").concat(n?"paypal-buttons-disabled":"").trim(),v=(0,o.useRef)(null),y=(0,o.useRef)(null),x=P()[0],g=x.isResolved,N=x.options,E=(0,o.useState)(null),j=E[0],w=E[1],T=(0,o.useState)(!0),I=T[0],O=T[1],S=(0,o.useState)(null)[1];function R(){null!==y.current&&y.current.close().catch(function(){})}return(null===(r=y.current)||void 0===r?void 0:r.updateProps)&&y.current.updateProps({message:f.message}),(0,o.useEffect)(function(){if(!1===g)return R;var e=m(N.dataNamespace);if(void 0===e||void 0===e.Buttons)return S(function(){throw Error(h({reactComponentName:A.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[b.DATA_NAMESPACE]}))}),R;try{y.current=e.Buttons(i(i({},f),{onInit:function(e,r){w(r),"function"==typeof f.onInit&&f.onInit(e,r)}}))}catch(e){return S(function(){throw Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(e))})}return!1===y.current.isEligible()?O(!1):v.current&&y.current.render(v.current).catch(function(e){null!==v.current&&0!==v.current.children.length&&S(function(){throw Error("Failed to render <PayPalButtons /> component. ".concat(e))})}),R},u(u([g],void 0===d?[]:d,!0),[f.fundingSource],!1)),(0,o.useEffect)(function(){null!==j&&(!0===n?j.disable().catch(function(){}):j.enable().catch(function(){}))},[n,j]),c().createElement(c().Fragment,null,I?c().createElement("div",{ref:v,style:n?{opacity:.38}:{},className:p}):s)};function g(e,r){void 0===r&&(r={});var t=document.createElement("script");return t.src=e,Object.keys(r).forEach(function(e){t.setAttribute(e,r[e]),"data-csp-nonce"===e&&t.setAttribute("nonce",r["data-csp-nonce"])}),t}function N(e,r){if("object"!=typeof e||null===e)throw Error("Expected an options object.");var t=e.environment;if(t&&"production"!==t&&"sandbox"!==t)throw Error('The `environment` option must be either "production" or "sandbox".');if(void 0!==r&&"function"!=typeof r)throw Error("Expected PromisePonyfill to be a function.")}A.displayName="PayPalButtons";var E=function(e){var r=e.className,t=e.children,a=l(e,["className","children"]),n=P()[0],s=n.isResolved,d=n.options,u=(0,o.useRef)(null),f=(0,o.useState)(!0),p=f[0],v=f[1],y=(0,o.useState)(null)[1],x=function(e){var r=u.current;if(!r||!e.isEligible())return v(!1);r.firstChild&&r.removeChild(r.firstChild),e.render(r).catch(function(e){null!==r&&0!==r.children.length&&y(function(){throw Error("Failed to render <PayPalMarks /> component. ".concat(e))})})};return(0,o.useEffect)(function(){if(!1!==s){var e=m(d[b.DATA_NAMESPACE]);if(void 0===e||void 0===e.Marks)return y(function(){throw Error(h({reactComponentName:E.displayName,sdkComponentKey:"marks",sdkRequestedComponents:d.components,sdkDataNamespace:d[b.DATA_NAMESPACE]}))});x(e.Marks(i({},a)))}},[s,a.fundingSource]),c().createElement(c().Fragment,null,p?c().createElement("div",{ref:u,className:void 0===r?"":r}):t)};E.displayName="PayPalMarks";var j=function(e){var r=e.className,t=e.forceReRender,a=l(e,["className","forceReRender"]),n=P()[0],s=n.isResolved,d=n.options,f=(0,o.useRef)(null),p=(0,o.useRef)(null),v=(0,o.useState)(null)[1];return(0,o.useEffect)(function(){if(!1!==s){var e=m(d[b.DATA_NAMESPACE]);if(void 0===e||void 0===e.Messages)return v(function(){throw Error(h({reactComponentName:j.displayName,sdkComponentKey:"messages",sdkRequestedComponents:d.components,sdkDataNamespace:d[b.DATA_NAMESPACE]}))});p.current=e.Messages(i({},a)),p.current.render(f.current).catch(function(e){null!==f.current&&0!==f.current.children.length&&v(function(){throw Error("Failed to render <PayPalMessages /> component. ".concat(e))})})}},u([s],void 0===t?[]:t,!0)),c().createElement("div",{ref:f,className:void 0===r?"":r})};j.displayName="PayPalMessages";var w=function(e){var r,t=e.options,s=void 0===t?{clientId:"test"}:t,d=e.children,l=e.deferLoading,u=void 0!==l&&l,p=(0,o.useReducer)(y,{options:i(i({},s),((r={})[b.DATA_JS_SDK_LIBRARY]=b.DATA_LIBRARY_VALUE,r[b.DATA_SDK_INTEGRATION_SOURCE]=b.DATA_LIBRARY_VALUE,r[f]="".concat(v(s)),r)),loadingStatus:u?a.INITIAL:a.PENDING}),m=p[0],h=p[1];return(0,o.useEffect)(function(){if(!1===u&&m.loadingStatus===a.INITIAL)return h({type:n.LOADING_STATUS,value:a.PENDING});if(m.loadingStatus===a.PENDING){var e=!0;return(function(e,r){if(void 0===r&&(r=Promise),N(e,r),"undefined"==typeof document)return r.resolve(null);var t,a,n,s,d,o=(a="sandbox"===e.environment?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js",delete e.environment,e.sdkBaseUrl&&(a=e.sdkBaseUrl,delete e.sdkBaseUrl),s=(n=Object.keys(e).filter(function(r){return void 0!==e[r]&&null!==e[r]&&""!==e[r]}).reduce(function(r,t){var a=e[t].toString();return"data"===(t=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,function(e,r){return(r?"-":"")+e.toLowerCase()})).substring(0,4)||"crossorigin"===t?r.attributes[t]=a:r.queryParams[t]=a,r},{queryParams:{},attributes:{}})).queryParams,d=n.attributes,s["merchant-id"]&&-1!==s["merchant-id"].indexOf(",")&&(d["data-merchant-id"]=s["merchant-id"],s["merchant-id"]="*"),{url:"".concat(a,"?").concat((t="",Object.keys(s).forEach(function(e){0!==t.length&&(t+="&"),t+=e+"="+s[e]}),t)),attributes:d}),c=o.url,i=o.attributes,l=i["data-namespace"]||"paypal",u=window[l];return(i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),function(e,r){var t=document.querySelector('script[src="'.concat(e,'"]'));if(null===t)return null;var a=g(e,r),n=t.cloneNode();if(delete n.dataset.uidAuto,Object.keys(n.dataset).length!==Object.keys(a.dataset).length)return null;var s=!0;return Object.keys(n.dataset).forEach(function(e){n.dataset[e]!==a.dataset[e]&&(s=!1)}),s?t:null}(c,i)&&u)?r.resolve(u):(function(e,r){void 0===r&&(r=Promise),N(e,r);var t=e.url,a=e.attributes;if("string"!=typeof t||0===t.length)throw Error("Invalid url.");if(void 0!==a&&"object"!=typeof a)throw Error("Expected attributes to be an object.");return new r(function(e,r){var n,s,d,o,c,i;if("undefined"==typeof document)return e();s=(n={url:t,attributes:a,onSuccess:function(){return e()},onError:function(){return r(Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.')))}}).url,d=n.attributes,o=n.onSuccess,c=n.onError,(i=g(s,d)).onerror=c,i.onload=o,document.head.insertBefore(i,document.head.firstElementChild)})})({url:c,attributes:i},r).then(function(){var e=window[l];if(e)return e;throw Error("The window.".concat(l," global variable is not available."))})})(m.options).then(function(){e&&h({type:n.LOADING_STATUS,value:a.RESOLVED})}).catch(function(r){console.error("".concat("Failed to load the PayPal JS SDK script."," ").concat(r)),e&&h({type:n.LOADING_STATUS,value:{state:a.REJECTED,message:String(r)}})}),function(){e=!1}}},[m.options,u,m.loadingStatus]),c().createElement(x.Provider,{value:i(i({},m),{dispatch:h})},d)};function T(){}(0,o.createContext)({cardFieldsForm:null,fields:{},registerField:T,unregisterField:T});var I={IDEAL:"ideal",BANCONTACT:"bancontact",GIROPAY:"giropay",SOFORT:"sofort",EPS:"eps",MYBANK:"mybank",P24:"p24",PAYU:"payu",BLIK:"blik",TRUSTLY:"trustly",OXXO:"oxxo",BOLETO:"boleto",BOLETOBANCARIO:"boletobancario",WECHATPAY:"wechatpay",MERCADOPAGO:"mercadopago",MULTIBANCO:"multibanco",SATISPAY:"satispay",PAIDY:"paidy",ZIMPLER:"zimpler",MAXIMA:"maxima"};I.IDEAL,I.BANCONTACT,I.GIROPAY,I.SOFORT,I.EPS,I.MYBANK,I.P24,I.PAYU,I.BLIK,I.TRUSTLY,I.OXXO,I.BOLETO,I.BOLETOBANCARIO,I.WECHATPAY,I.MERCADOPAGO,I.MULTIBANCO,I.SATISPAY,I.PAIDY,I.MAXIMA,I.ZIMPLER;var O=t(77247),S=t(25008);let R=(0,O.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C({className:e,variant:r,...t}){return d.jsx("div",{className:(0,S.cn)(R({variant:r}),e),...t})}var _=t(27757),D=t(44283),k=t(10906),M=t(44597),q=t(79906),L=t(31886);function B({order:e,paypalClientId:r}){let{shippingAddress:t,orderItems:a,itemsPrice:n,taxPrice:s,shippingPrice:o,totalPrice:c,paymentMethod:i,isPaid:l,paidAt:u,isDelivered:f,deliveredAt:b}=e,{toast:p}=(0,k.pm)(),m=async()=>{let r=await (0,L.ZM)(e.id);return r.success?r.data:p({description:r.message,variant:"destructive"})},h=async r=>{let t=await (0,L.Yx)(e.id,r);p({description:t.message,variant:t.success?"default":"destructive"})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h1",{className:"py-4 text-2xl",children:[" Order ",(0,S.P2)(e.id)]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 md:gap-5",children:[(0,d.jsxs)("div",{className:"overflow-x-auto md:col-span-2 space-y-4",children:[d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Payment Method"}),d.jsx("p",{children:i}),l?(0,d.jsxs)(C,{variant:"secondary",children:["Paid at ",(0,S.o0)(u).dateTime]}):d.jsx(C,{variant:"destructive",children:"Not paid"})]})}),d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Shipping Address"}),d.jsx("p",{children:t.fullName}),(0,d.jsxs)("p",{children:[t.streetAddress,", ",t.city,","," ",t.postalCode,", ",t.country," "]}),f?(0,d.jsxs)(C,{variant:"secondary",children:["Delivered at ",(0,S.o0)(b).dateTime]}):d.jsx(C,{variant:"destructive",children:"Not delivered"})]})}),d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Order Items"}),(0,d.jsxs)(D.iA,{children:[d.jsx(D.xD,{children:(0,d.jsxs)(D.SC,{children:[d.jsx(D.ss,{children:"Item"}),d.jsx(D.ss,{children:"Quantity"}),d.jsx(D.ss,{children:"Price"})]})}),d.jsx(D.RM,{children:a.map(e=>(0,d.jsxs)(D.SC,{children:[d.jsx(D.pj,{children:(0,d.jsxs)(q.default,{href:`/product/${e.slug}`,className:"flex items-center",children:[d.jsx(M.default,{src:e.image,alt:e.name,width:50,height:50}),d.jsx("span",{className:"px-2",children:e.name})]})}),d.jsx(D.pj,{children:d.jsx("span",{className:"px-2",children:e.qty})}),(0,d.jsxs)(D.pj,{className:"text-right",children:["$",e.price]})]},e.slug))})]})]})})]}),d.jsx("div",{children:d.jsx(_.Zb,{children:(0,d.jsxs)(_.aY,{className:"p-4 space-y-4 gap-4",children:[d.jsx("h2",{className:"text-xl pb-4",children:"Order Summary"}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Items"}),d.jsx("div",{children:(0,S.xG)(n)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Tax"}),d.jsx("div",{children:(0,S.xG)(s)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Shipping"}),d.jsx("div",{children:(0,S.xG)(o)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[d.jsx("div",{children:"Total"}),d.jsx("div",{children:(0,S.xG)(c)})]}),!l&&"PayPal"===i&&d.jsx("div",{children:(0,d.jsxs)(w,{options:{clientId:r},children:[d.jsx(function(){let[{isPending:e,isRejected:r}]=P(),t="";return e?t="Loading PayPal...":r&&(t="Error in loading PayPal."),t},{}),d.jsx(A,{createOrder:m,onApprove:h})]})})]})})})]})]})}},27757:(e,r,t)=>{"use strict";t.d(r,{Zb:()=>d,aY:()=>o});var a=t(97247),n=t(28964),s=t(25008);let d=n.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));d.displayName="Card",n.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r})).displayName="CardHeader",n.forwardRef(({className:e,...r},t)=>a.jsx("h3",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...r})).displayName="CardTitle",n.forwardRef(({className:e,...r},t)=>a.jsx("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let o=n.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",n.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},44283:(e,r,t)=>{"use strict";t.d(r,{RM:()=>c,SC:()=>i,iA:()=>d,pj:()=>u,ss:()=>l,xD:()=>o});var a=t(97247),n=t(28964),s=t(25008);let d=n.forwardRef(({className:e,...r},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",e),...r})}));d.displayName="Table";let o=n.forwardRef(({className:e,...r},t)=>a.jsx("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",e),...r}));o.displayName="TableHeader";let c=n.forwardRef(({className:e,...r},t)=>a.jsx("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r}));c.displayName="TableBody",n.forwardRef(({className:e,...r},t)=>a.jsx("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let i=n.forwardRef(({className:e,...r},t)=>a.jsx("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));i.displayName="TableRow";let l=n.forwardRef(({className:e,...r},t)=>a.jsx("th",{ref:t,className:(0,s.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));l.displayName="TableHead";let u=n.forwardRef(({className:e,...r},t)=>a.jsx("td",{ref:t,className:(0,s.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));u.displayName="TableCell",n.forwardRef(({className:e,...r},t)=>a.jsx("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption"},31886:(e,r,t)=>{"use strict";t.d(r,{LV:()=>n,Yx:()=>d,ZM:()=>s}),t(70689);var a=t(11294);(0,a.$)("413193ecb56048609af8628b5e95dee0ff5a93cf"),(0,a.$)("5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c"),(0,a.$)("8b7a29abd0e74ef74c46c98c97840b6db3b5145f");var n=(0,a.$)("ea248243752e282f1c9161e3241b42d6adba1007"),s=(0,a.$)("d20716accc4a0d8fc583e0f1745f62f4af5f6691"),d=(0,a.$)("52c4508c960f2657f71a1fde5a781c8b1e116f52")},11294:(e,r,t)=>{"use strict";Object.defineProperty(r,"$",{enumerable:!0,get:function(){return n}});let a=t(70689);function n(e){let{createServerReference:r}=t(75032);return r(e,a.callServer)}},60827:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(72051),n=t(27231),s=t(11931);function d({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen flex-col",children:[a.jsx(s.Z,{}),a.jsx("main",{className:"flex-1 wrapper",children:e}),a.jsx(n.Z,{})]})}t(26269)},76243:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>c});var a=t(72051),n=t(89043),s=t(89112),d=t(41288);let o=(0,t(45347).createProxy)(String.raw`/Users/obadosunmu/Documents/newcommerce/chooselifeandpeace/app/(root)/order/[id]/order-details-form.tsx#default`),c={title:`Order Details - ${s.iC}`},i=async({params:{id:e}})=>{let r=await (0,n.getOrderById)(e);return r||(0,d.notFound)(),r.user,a.jsx(o,{order:r,paypalClientId:process.env.PAYPAL_CLIENT_ID||"sb"})}},89043:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$ACTION_0:()=>T,$$ACTION_1:()=>R,approvePayPalOrder:()=>O,createOrder:()=>w,createPayPalOrder:()=>I,getMyOrders:()=>j,getOrderById:()=>E,updateOrderToPaid:()=>S});var a=t(94214);t(84674);var n=t(1779),s=t(6001),d=t(23829),o=t(41288),c=t(45315),i=t(9396),l=t(53117),u=t(29785),f=t(95013),b=t(9850),p=t(84214),m=t(1192),h=t(37170);let v=process.env.PAYPAL_API_URL||"https://api-m.sandbox.paypal.com",y={createOrder:async function(e){let r=await x(),t=`${v}/v2/checkout/orders`;return P(await fetch(t,{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:e}}]})}))},capturePayment:async function(e){let r=await x(),t=`${v}/v2/checkout/orders/${e}/capture`;return P(await fetch(t,{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}))}};async function x(){let{PAYPAL_CLIENT_ID:e,PAYPAL_APP_SECRET:r}=process.env,t=Buffer.from(e+":"+r).toString("base64"),a=await fetch(`${v}/v1/oauth2/token`,{method:"post",body:"grant_type=client_credentials",headers:{Authorization:`Basic ${t}`}});return(await P(a)).access_token}async function P(e){if(200===e.status||201===e.status)return e.json();throw Error(await e.text())}var A=t(6778),g=t(89112),N=t(54772);async function E(e){return await i.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e),with:{orderItems:!0,user:{columns:{name:!0,email:!0}}}})}async function j({limit:e=g.IV,page:r}){let t=await (0,n.I8)();if(!t)throw Error("User is not authenticated");return{data:await i.Z.query.orders.findMany({where:(0,u.eq)(l.orders.userId,t.user.id),orderBy:[(0,f.C)(l.products.createdAt)],limit:e,offset:(r-1)*e}),totalPages:Math.ceil((await i.Z.select({count:(0,b.QX)()}).from(l.orders).where((0,u.eq)(l.orders.userId,t.user.id)))[0].count/e)}}let w=(0,a.j)("62915f7c5455fffd80487d2ea4fe069934717803",T);async function T(){try{let e=await (0,n.I8)();if(!e)throw Error("User is not authenticated");let r=await (0,s.getMyCart)(),t=await (0,d.getUserById)(e?.user.id);r&&0!==r.items.length||(0,o.redirect)("/cart"),t.address||(0,o.redirect)("/shipping-address"),t.paymentMethod||(0,o.redirect)("/payment-method");let a=c.Mn.parse({userId:t.id,shippingAddress:t.address,paymentMethod:t.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice}),f=await i.Z.transaction(async e=>{let t=await e.insert(l.orders).values(a).returning();for(let a of r.items)await e.insert(l.orderItems).values({...a,price:a.price.toFixed(2),orderId:t[0].id});return await i.Z.update(l.carts).set({items:[],totalPrice:"0",shippingPrice:"0",taxPrice:"0",itemsPrice:"0"}).where((0,u.eq)(l.carts.id,r.id)),t[0].id});if(!f)throw Error("Order not created");(0,o.redirect)(`/order/${f}`)}catch(e){if((0,m.isRedirectError)(e))throw e;return{success:!1,message:(0,h.Z)(e)}}}async function I(e){try{let r=await i.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e)});if(r){let t=await y.createOrder(Number(r.totalPrice));return await i.Z.update(l.orders).set({paymentResult:{id:t.id,email_address:"",status:"",pricePaid:"0"}}).where((0,u.eq)(l.orders.id,e)),{success:!0,message:"PayPal order created successfully",data:t.id}}throw Error("Order not found")}catch(e){return{success:!1,message:(0,h.Z)(e)}}}async function O(e,r){try{let t=await i.Z.query.orders.findFirst({where:(0,u.eq)(l.orders.id,e)});if(!t)throw Error("Order not found");let a=await y.capturePayment(r.orderID);if(!a||a.id!==t.paymentResult?.id||"COMPLETED"!==a.status)throw Error("Error in paypal payment");return await S({orderId:e,paymentResult:{id:a.id,status:a.status,email_address:a.payer.email_address,pricePaid:a.purchase_units[0]?.payments?.captures[0]?.amount?.value}}),(0,A.revalidatePath)(`/order/${e}`),{success:!0,message:"Your order has been successfully paid by PayPal"}}catch(e){return{success:!1,message:(0,h.Z)(e)}}}let S=(0,a.j)("8428591957a96fc1d06bdf1ae8a31cca2aed9436",R);async function R({orderId:e,paymentResult:r}){let t=await i.Z.query.orders.findFirst({columns:{isPaid:!0},where:(0,u.eq)(l.orders.id,e),with:{orderItems:!0}});if(!t)throw Error("Order not found");if(t.isPaid)throw Error("Order is already paid");await i.Z.transaction(async a=>{for(let e of t.orderItems)await a.update(l.products).set({stock:(0,p.i6)`${l.products.stock} - ${e.qty}`}).where((0,u.eq)(l.products.id,e.productId));await a.update(l.orders).set({isPaid:!0,paidAt:new Date,paymentResult:r}).where((0,u.eq)(l.orders.id,e))})}(0,N.h)([E,j,w,I,O,S]),(0,a.j)("5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c",E),(0,a.j)("8b7a29abd0e74ef74c46c98c97840b6db3b5145f",j),(0,a.j)("ea248243752e282f1c9161e3241b42d6adba1007",w),(0,a.j)("d20716accc4a0d8fc583e0f1745f62f4af5f6691",I),(0,a.j)("52c4508c960f2657f71a1fde5a781c8b1e116f52",O),(0,a.j)("413193ecb56048609af8628b5e95dee0ff5a93cf",S)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[329,390,417,27,771,438,756,994,798],()=>t(92190));module.exports=a})();