(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{1711:function(e,t,r){Promise.resolve().then(r.bind(r,2208))},2208:function(e,t,r){"use strict";r.d(t,{default:function(){return k}});var n=r(7437),a=r(2869),s=r(2265),i=r(4508);let o=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});o.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";let c=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",r),...a})})});c.displayName="Table";let d=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",r),...a})});d.displayName="TableHeader";let u=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...a})});u.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let f=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});f.displayName="TableRow";let m=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("th",{ref:t,className:(0,i.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});m.displayName="TableHead";let h=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("td",{ref:t,className:(0,i.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});h.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";var p=r(5153),x=r(6718),b=r(6540),y=r(1047),v=r(9397),g=r(6858),N=r(3145),j=r(7648),w=r(9376);function k(e){let{cart:t}=e,r=(0,w.useRouter)(),{toast:k}=(0,p.pm)(),[S,T]=(0,s.useTransition)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"py-4 h2-bold",children:"Shopping Cart"}),t&&0!==t.items.length?(0,n.jsxs)("div",{className:"grid md:grid-cols-4 md:gap-5",children:[(0,n.jsx)("div",{className:"overflow-x-auto md:col-span-3",children:(0,n.jsxs)(c,{children:[(0,n.jsx)(d,{children:(0,n.jsxs)(f,{children:[(0,n.jsx)(m,{children:"Item"}),(0,n.jsx)(m,{className:"text-center",children:"Quantity"}),(0,n.jsx)(m,{className:"text-right",children:"Price"})]})}),(0,n.jsx)(u,{children:t.items.map(e=>(0,n.jsxs)(f,{children:[(0,n.jsx)(h,{children:(0,n.jsxs)(j.default,{href:"/product/".concat(e.slug),className:"flex items-center",children:[(0,n.jsx)(N.default,{src:e.image,alt:e.name,width:50,height:50}),(0,n.jsx)("span",{className:"px-2",children:e.name})]})}),(0,n.jsxs)(h,{className:"flex-center gap-2",children:[(0,n.jsx)(a.z,{disabled:S,variant:"outline",type:"button",onClick:()=>T(async()=>{let t=await (0,x.Cn)(e.productId);t.success||k({variant:"destructive",description:t.message})}),children:S?(0,n.jsx)(b.Z,{className:"w-4 h-4  animate-spin"}):(0,n.jsx)(y.Z,{className:"w-4 h-4"})}),(0,n.jsx)("span",{children:e.qty}),(0,n.jsx)(a.z,{disabled:S,variant:"outline",type:"button",onClick:()=>T(async()=>{let t=await (0,x.dm)(e);t.success||k({variant:"destructive",description:t.message})}),children:S?(0,n.jsx)(b.Z,{className:"w-4 h-4  animate-spin"}):(0,n.jsx)(v.Z,{className:"w-4 h-4"})})]}),(0,n.jsxs)(h,{className:"text-right",children:["$",e.price]})]},e.slug))})]})}),(0,n.jsx)("div",{children:(0,n.jsx)(o,{children:(0,n.jsxs)(l,{className:"p-4   gap-4",children:[(0,n.jsxs)("div",{className:"pb-3 text-xl",children:["Subtotal (",t.items.reduce((e,t)=>e+t.qty,0),"):",(0,i.xG)(t.itemsPrice)]}),(0,n.jsxs)(a.z,{onClick:()=>T(()=>r.push("/shipping-address")),className:"w-full",disabled:S,children:[S?(0,n.jsx)(b.Z,{className:"animate-spin w-4 h-4"}):(0,n.jsx)(g.Z,{className:"w-4 h-4"}),"Proceed to Checkout"]})]})})})]}):(0,n.jsxs)("div",{children:["Cart is empty. ",(0,n.jsx)(j.default,{href:"/",children:"Go shopping"})]})]})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),a=r(2265),s=r(7053),i=r(7712),o=r(4508);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let a=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(c);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6718:function(e,t,r){"use strict";r.d(t,{Cn:function(){return a},dm:function(){return s}}),r(3079);var n=r(2119),a=(0,n.$)("d33ae3afc17ff86a896b65bbc01c77b3fd04f032");(0,n.$)("fe554d431ad4dbdcf2b2dc0e821c8d0adcf5a00c");var s=(0,n.$)("41fc677b184effcb0016e001cd930a9fb30ddb0a")},4508:function(e,t,r){"use strict";r.d(t,{Aj:function(){return l},Xp:function(){return c},cn:function(){return s},xG:function(){return o}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}let i=Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:2});function o(e){return"number"==typeof e?i.format(e):"string"==typeof e?i.format(Number(e)):"NaN"}let l=e=>{let[t,r]=e.toString().split(".");return r?"".concat(t,".").concat(r.padEnd(2,"0")):t},c=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...f}=e;return(0,n.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:l?24*Number(o)/Number(a):o,className:s("lucide",c),...f},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:l,...c}=r;return(0,n.createElement)(o,{ref:i,iconNode:t,className:s("lucide-".concat(a(e)),l),...c})});return r.displayName="".concat(e),r}},6858:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6540:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(8461),a=r.n(n)},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(2972),a=r.n(n)},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},2119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let n=r(3079);function a(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=r(7043),a=r(5346),s=r(5878),i=n._(r(5084));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=s.Image},7712:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});let n=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n);else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(n&&(n+=" "),n+=t);return n},s=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==o?void 0:o[e];if(null===t)return null;let s=n(t)||n(a);return i[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[317,878,972,971,117,744],function(){return e(e.s=1711)}),_N_E=e.O()}]);