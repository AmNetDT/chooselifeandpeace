(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{9779:function(e,t,r){Promise.resolve().then(r.bind(r,6287))},6287:function(e,t,r){"use strict";r.d(t,{default:function(){return h}});var n=r(7437),s=r(1542);r(2265);var a=r(7712),i=r(4508);let c=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)(c({variant:r}),t),...s})}var l=r(6070),o=r(3578),u=r(5153),f=r(3145),m=r(7648),x=r(8990);function h(e){let{order:t,paypalClientId:r}=e,{shippingAddress:a,orderItems:c,itemsPrice:h,taxPrice:p,shippingPrice:j,totalPrice:b,paymentMethod:y,isPaid:N,paidAt:v,isDelivered:g,deliveredAt:w}=t,{toast:S}=(0,u.pm)(),T=async()=>{let e=await (0,x.ZM)(t.id);return e.success?e.data:S({description:e.message,variant:"destructive"})},O=async e=>{let r=await (0,x.Yx)(t.id,e);S({description:r.message,variant:r.success?"default":"destructive"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h1",{className:"py-4 text-2xl",children:[" Order ",(0,i.P2)(t.id)]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 md:gap-5",children:[(0,n.jsxs)("div",{className:"overflow-x-auto md:col-span-2 space-y-4",children:[(0,n.jsx)(l.Zb,{children:(0,n.jsxs)(l.aY,{className:"p-4 gap-4",children:[(0,n.jsx)("h2",{className:"text-xl pb-4",children:"Payment Method"}),(0,n.jsx)("p",{children:y}),N?(0,n.jsxs)(d,{variant:"secondary",children:["Paid at ",(0,i.o0)(v).dateTime]}):(0,n.jsx)(d,{variant:"destructive",children:"Not paid"})]})}),(0,n.jsx)(l.Zb,{children:(0,n.jsxs)(l.aY,{className:"p-4 gap-4",children:[(0,n.jsx)("h2",{className:"text-xl pb-4",children:"Shipping Address"}),(0,n.jsx)("p",{children:a.fullName}),(0,n.jsxs)("p",{children:[a.streetAddress,", ",a.city,","," ",a.postalCode,", ",a.country," "]}),g?(0,n.jsxs)(d,{variant:"secondary",children:["Delivered at ",(0,i.o0)(w).dateTime]}):(0,n.jsx)(d,{variant:"destructive",children:"Not delivered"})]})}),(0,n.jsx)(l.Zb,{children:(0,n.jsxs)(l.aY,{className:"p-4 gap-4",children:[(0,n.jsx)("h2",{className:"text-xl pb-4",children:"Order Items"}),(0,n.jsxs)(o.iA,{children:[(0,n.jsx)(o.xD,{children:(0,n.jsxs)(o.SC,{children:[(0,n.jsx)(o.ss,{children:"Item"}),(0,n.jsx)(o.ss,{children:"Quantity"}),(0,n.jsx)(o.ss,{children:"Price"})]})}),(0,n.jsx)(o.RM,{children:c.map(e=>(0,n.jsxs)(o.SC,{children:[(0,n.jsx)(o.pj,{children:(0,n.jsxs)(m.default,{href:"/product/".concat(e.slug),className:"flex items-center",children:[(0,n.jsx)(f.default,{src:e.image,alt:e.name,width:50,height:50}),(0,n.jsx)("span",{className:"px-2",children:e.name})]})}),(0,n.jsx)(o.pj,{children:(0,n.jsx)("span",{className:"px-2",children:e.qty})}),(0,n.jsxs)(o.pj,{className:"text-right",children:["$",e.price]})]},e.slug))})]})]})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(l.Zb,{children:(0,n.jsxs)(l.aY,{className:"p-4 space-y-4 gap-4",children:[(0,n.jsx)("h2",{className:"text-xl pb-4",children:"Order Summary"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Items"}),(0,n.jsx)("div",{children:(0,i.xG)(h)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Tax"}),(0,n.jsx)("div",{children:(0,i.xG)(p)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Shipping"}),(0,n.jsx)("div",{children:(0,i.xG)(j)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Total"}),(0,n.jsx)("div",{children:(0,i.xG)(b)})]}),!N&&"PayPal"===y&&(0,n.jsx)("div",{children:(0,n.jsxs)(s.Vv,{options:{clientId:r},children:[(0,n.jsx)(function(){let[{isPending:e,isRejected:t}]=(0,s.Up)(),r="";return e?r="Loading PayPal...":t&&(r="Error in loading PayPal."),r},{}),(0,n.jsx)(s.ch,{createOrder:T,onApprove:O})]})})]})})})]})]})}},6070:function(e,t,r){"use strict";r.d(t,{Zb:function(){return i},aY:function(){return c}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},3578:function(e,t,r){"use strict";r.d(t,{RM:function(){return d},SC:function(){return l},iA:function(){return i},pj:function(){return u},ss:function(){return o},xD:function(){return c}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...s})})});i.displayName="Table";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...s})});c.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});l.displayName="TableRow";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("th",{ref:t,className:(0,a.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});o.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("td",{ref:t,className:(0,a.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function o(e){l=c(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>o({type:"DISMISS_TOAST",toastId:r});return o({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(l);return n.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},8990:function(e,t,r){"use strict";r.d(t,{LV:function(){return s},Yx:function(){return i},ZM:function(){return a}}),r(3079);var n=r(2119);(0,n.$)("413193ecb56048609af8628b5e95dee0ff5a93cf"),(0,n.$)("5a6d56e69c6fdbdbb96f5fcdf3cb938533d1c24c");var s=(0,n.$)("ea248243752e282f1c9161e3241b42d6adba1007"),a=(0,n.$)("d20716accc4a0d8fc583e0f1745f62f4af5f6691"),i=(0,n.$)("52c4508c960f2657f71a1fde5a781c8b1e116f52")},4508:function(e,t,r){"use strict";r.d(t,{Aj:function(){return o},P2:function(){return a},Xp:function(){return u},cn:function(){return c},o0:function(){return i},xG:function(){return l}});var n=r(1994),s=r(3335);function a(e){return"..".concat(e.substring(e.length-6))}let i=e=>({dateTime:new Date(e).toLocaleString("en-US",{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),dateOnly:new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",year:"numeric",day:"numeric"}),timeOnly:new Date(e).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})});function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}let d=Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:2});function l(e){return"number"==typeof e?d.format(e):"string"==typeof e?d.format(Number(e)):"NaN"}let o=e=>{let[t,r]=e.toString().split(".");return r?"".concat(t,".").concat(r.padEnd(2,"0")):t},u=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}}},function(e){e.O(0,[137,878,972,564,971,117,744],function(){return e(e.s=9779)}),_N_E=e.O()}]);