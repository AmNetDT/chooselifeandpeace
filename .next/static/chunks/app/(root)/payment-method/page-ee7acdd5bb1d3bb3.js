(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{221:function(e,t,r){Promise.resolve().then(r.bind(r,7674))},7674:function(e,t,r){"use strict";r.d(t,{default:function(){return w}});var a=r(7437),s=r(8452),n=r(2869),i=r(5681),o=r(2265),c=r(653),d=r(2241),u=r(4508);let l=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.fC,{className:(0,u.cn)("grid gap-2",r),...s,ref:t})});l.displayName=d.fC.displayName;let m=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.ck,{ref:t,className:(0,u.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:(0,a.jsx)(d.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(c.nQG,{className:"h-3.5 w-3.5 fill-primary"})})})});m.displayName=d.ck.displayName;var f=r(5153),p=r(9869),h=r(978),x=r(8686),y=r(3590),b=r(6540),g=r(6858),v=r(9376),N=r(9501);function w(e){let{preferredPaymentMethod:t}=e,r=(0,v.useRouter)(),c=(0,N.cI)({resolver:(0,y.F)(x.LD),defaultValues:{type:t||h.p7}}),[d,u]=(0,o.useTransition)(),{toast:w}=(0,f.pm)();async function j(e){u(async()=>{let t=await (0,p.Fy)(e);if(!t.success){w({variant:"destructive",description:t.message});return}r.push("/place-order")})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{current:2}),(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)(i.l0,{...c,children:(0,a.jsxs)("form",{method:"post",onSubmit:c.handleSubmit(j),className:"space-y-4",children:[(0,a.jsx)("h1",{className:"h2-bold mt-4",children:"Payment Method"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please select your preferred payment method"}),(0,a.jsx)("h3",{className:"mt-8 h3-bold"}),(0,a.jsx)("div",{className:"flex flex-col gap-5 md:flex-row",children:(0,a.jsx)(i.Wi,{control:c.control,name:"type",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.xJ,{className:"space-y-3",children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(l,{onValueChange:t.onChange,className:"flex flex-col space-y-2",children:h.LM.map(e=>(0,a.jsxs)(i.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,a.jsx)(i.NI,{children:(0,a.jsx)(m,{value:e,checked:t.value===e})}),(0,a.jsx)(i.lX,{className:"font-normal",children:e})]},e))})}),(0,a.jsx)(i.zG,{})]})}})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)(n.z,{type:"submit",disabled:d,children:[d?(0,a.jsx)(b.Z,{className:"animate-spin w-4 h-4"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"}),"Continue"]})})]})})})]})}},8452:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(4508);t.Z=e=>{let{current:t=0}=e;return(0,a.jsx)("div",{className:"flex-between  flex-col md:flex-row  space-x-2 space-y-2",children:["User Login","Shipping Address","Payment Method","Place Order"].map((e,r)=>(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("div",{className:(0,n.cn)("p-2 w-56 rounded-full text-center  text-sm",r===t?"bg-secondary":""),children:e}),"Place Order"!==e&&(0,a.jsx)("hr",{className:"w-16 border-t border-gray-300 mx-2"})]},e))})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),s=r(2265),n=r(7053),i=r(7712),o=r(4508);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...u}=e,l=d?n.g7:"button";return(0,a.jsx)(l,{className:(0,o.cn)(c({variant:s,size:i,className:r})),ref:t,...u})});d.displayName="Button"},5681:function(e,t,r){"use strict";r.d(t,{NI:function(){return x},Wi:function(){return l},l0:function(){return d},lX:function(){return h},xJ:function(){return p},zG:function(){return y}});var a=r(7437),s=r(2265),n=r(7053),i=r(9501),o=r(4508),c=r(6815);let d=i.RV,u=s.createContext({}),l=e=>{let{...t}=e;return(0,a.jsx)(u.Provider,{value:{name:t.name},children:(0,a.jsx)(i.Qr,{...t})})},m=()=>{let e=s.useContext(u),t=s.useContext(f),{getFieldState:r,formState:a}=(0,i.Gc)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},f=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...n}=e,i=s.useId();return(0,a.jsx)(f.Provider,{value:{id:i},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});p.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:n,formItemId:i}=m();return(0,a.jsx)(c._,{ref:t,className:(0,o.cn)(n&&"text-destructive",r),htmlFor:i,...s})});h.displayName="FormLabel";let x=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:c}=m();return(0,a.jsx)(n.g7,{ref:t,id:i,"aria-describedby":s?"".concat(o," ").concat(c):"".concat(o),"aria-invalid":!!s,...r})});x.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:n}=m();return(0,a.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...s})}).displayName="FormDescription";let y=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e,{error:i,formMessageId:c}=m(),d=i?String(null==i?void 0:i.message):s;return d?(0,a.jsx)("p",{ref:t,id:c,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...n,children:d}):null});y.displayName="FormMessage"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(7437),s=r(2265),n=r(6394),i=r(7712),o=r(4508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,o.cn)(c(),r),...s})});d.displayName=n.f.displayName},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return m}});var a=r(2265);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function u(e){d=o(d,e),c.forEach(e=>{e(d)})}function l(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},9869:function(e,t,r){"use strict";r.d(t,{$X:function(){return o},Fy:function(){return s},c4:function(){return i},y1:function(){return n}}),r(3079);var a=r(2119),s=(0,a.$)("abc73778e07b95e9d8f15868fea7f03dbbca9e71"),n=(0,a.$)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),i=(0,a.$)("c90075d8792b89f7584984a67b421aab69e556af");(0,a.$)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),(0,a.$)("4896ea1b4f1dace1ade49eb3651161dc0c4f102a");var o=(0,a.$)("7ef6945e100c99ebbac8da6a81410b4410597f01")},978:function(e,t,r){"use strict";r.d(t,{LM:function(){return s},dF:function(){return c},p7:function(){return n},y5:function(){return i},yW:function(){return o}});var a=r(257);let s=a.env.PAYMENT_METHODS?a.env.PAYMENT_METHODS.split(", "):["PayPal","Stripe"],n=a.env.DEFAULT_PAYMENT_METHOD||"PayPal",i={email:"",password:""},o={name:"",email:"",password:"",confirmPassword:""},c={fullName:"",streetAddress:"",city:"",postalCode:"",country:""}},4508:function(e,t,r){"use strict";r.d(t,{Aj:function(){return c},Xp:function(){return d},cn:function(){return n},xG:function(){return o}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}let i=Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:2});function o(e){return"number"==typeof e?i.format(e):"string"==typeof e?i.format(Number(e)):"NaN"}let c=e=>{let[t,r]=e.toString().split(".");return r?"".concat(t,".").concat(r.padEnd(2,"0")):t},d=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}},8686:function(e,t,r){"use strict";r.d(t,{LD:function(){return o},tV:function(){return i}});var a=r(1229),s=r(4508),n=r(978);a.Ry({email:a.Z_().email().min(3,"Email must be at least 3 characters"),password:a.Z_().min(3,"Password must be at least 3 characters")}),a.Ry({name:a.Z_().min(3,"Name must be at least 3 characters"),email:a.Z_().email().min(3,"Email must be at least 3 characters"),password:a.Z_().min(3,"Password must be at least 3 characters"),confirmPassword:a.Z_().min(3,"Confirm password must be at least 3 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),a.Ry({productId:a.Z_().min(1,"Product is required"),name:a.Z_().min(1,"Name is required"),slug:a.Z_().min(1,"Slug is required"),qty:a.Rx().int().nonnegative("Quantity must be a non-negative number"),image:a.Z_().min(1,"Image is required"),price:a.Rx().refine(e=>/^\d+(\.\d{2})?$/.test((0,s.Aj)(e)),"Price must have exactly two decimal places (e.g., 49.99)")});let i=a.Ry({fullName:a.Z_().min(3,"Name must be at least 3 characters"),streetAddress:a.Z_().min(3,"Address must be at least 3 characters"),city:a.Z_().min(3,"city must be at least 3 characters"),postalCode:a.Z_().min(3,"Postal code must be at least 3 characters"),country:a.Z_().min(3,"Country must be at least 3 characters"),lat:a.Rx().optional(),lng:a.Rx().optional()}),o=a.Ry({type:a.Z_().min(1,"Payment method is required")}).refine(e=>n.LM.includes(e.type),{path:["type"],message:"Invalid payment method"})}},function(e){e.O(0,[310,317,465,564,241,971,117,744],function(){return e(e.s=221)}),_N_E=e.O()}]);