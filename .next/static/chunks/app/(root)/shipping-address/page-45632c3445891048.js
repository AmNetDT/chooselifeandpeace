(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{7551:function(e,t,r){Promise.resolve().then(r.bind(r,4838))},4838:function(e,t,r){"use strict";r.d(t,{default:function(){return y}});var n=r(7437),s=r(9376),a=r(9501),i=r(3590),o=r(8686),c=r(978),l=r(5153),d=r(2265),u=r(9869),m=r(8452),f=r(5681),p=r(5186),x=r(2869),h=r(6540),b=r(6858);function y(e){let{address:t}=e,r=(0,s.useRouter)(),y=(0,a.cI)({resolver:(0,i.F)(o.tV),defaultValues:t||c.dF}),{toast:v}=(0,l.pm)(),[g,j]=(0,d.useTransition)(),N=async e=>{j(async()=>{let t=await (0,u.$X)(e);if(!t.success){v({variant:"destructive",description:t.message});return}r.push("/payment-method")})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{current:1}),(0,n.jsxs)("div",{className:"max-w-md mx-auto space-y-4",children:[(0,n.jsx)("h1",{className:"h2-bold mt-4",children:"Shipping Address"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please enter the address that you want to ship to"}),(0,n.jsx)(f.l0,{...y,children:(0,n.jsxs)("form",{method:"post",onSubmit:y.handleSubmit(N),className:"space-y-4",children:[(0,n.jsx)("div",{className:"flex flex-col gap-5 md:flex-row",children:(0,n.jsx)(f.Wi,{control:y.control,name:"fullName",render:e=>{let{field:t}=e;return(0,n.jsxs)(f.xJ,{className:"w-full",children:[(0,n.jsx)(f.lX,{children:"Full Name"}),(0,n.jsx)(f.NI,{children:(0,n.jsx)(p.I,{placeholder:"Enter full name",...t})}),(0,n.jsx)(f.zG,{})]})}})}),(0,n.jsx)("div",{children:(0,n.jsx)(f.Wi,{control:y.control,name:"streetAddress",render:e=>{let{field:t}=e;return(0,n.jsxs)(f.xJ,{className:"w-full",children:[(0,n.jsx)(f.lX,{children:"Address"}),(0,n.jsx)(f.NI,{children:(0,n.jsx)(p.I,{placeholder:"Enter address",...t})}),(0,n.jsx)(f.zG,{})]})}})}),(0,n.jsxs)("div",{className:"flex flex-col gap-5 md:flex-row",children:[(0,n.jsx)(f.Wi,{control:y.control,name:"city",render:e=>{let{field:t}=e;return(0,n.jsxs)(f.xJ,{className:"w-full",children:[(0,n.jsx)(f.lX,{children:"City"}),(0,n.jsx)(f.NI,{children:(0,n.jsx)(p.I,{placeholder:"Enter city",...t})}),(0,n.jsx)(f.zG,{})]})}}),(0,n.jsx)(f.Wi,{control:y.control,name:"country",render:e=>{let{field:t}=e;return(0,n.jsxs)(f.xJ,{className:"w-full",children:[(0,n.jsx)(f.lX,{children:"Country"}),(0,n.jsx)(f.NI,{children:(0,n.jsx)(p.I,{placeholder:"Enter country",...t})}),(0,n.jsx)(f.zG,{})]})}}),(0,n.jsx)(f.Wi,{control:y.control,name:"postalCode",render:e=>{let{field:t}=e;return(0,n.jsxs)(f.xJ,{className:"w-full",children:[(0,n.jsx)(f.lX,{children:"Postal Code"}),(0,n.jsx)(f.NI,{children:(0,n.jsx)(p.I,{placeholder:"Enter postal code",...t})}),(0,n.jsx)(f.zG,{})]})}})]}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsxs)(x.z,{type:"submit",disabled:g,children:[g?(0,n.jsx)(h.Z,{className:"animate-spin w-4 h-4"}):(0,n.jsx)(b.Z,{className:"w-4 h-4"}),"Continue"]})})]})})]})]})}},8452:function(e,t,r){"use strict";var n=r(7437),s=r(2265),a=r(4508);t.Z=e=>{let{current:t=0}=e;return(0,n.jsx)("div",{className:"flex-between  flex-col md:flex-row  space-x-2 space-y-2",children:["User Login","Shipping Address","Payment Method","Place Order"].map((e,r)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("div",{className:(0,a.cn)("p-2 w-56 rounded-full text-center  text-sm",r===t?"bg-secondary":""),children:e}),"Place Order"!==e&&(0,n.jsx)("hr",{className:"w-16 border-t border-gray-300 mx-2"})]},e))})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),s=r(2265),a=r(7053),i=r(7712),o=r(4508);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(c({variant:s,size:i,className:r})),ref:t,...d})});l.displayName="Button"},5681:function(e,t,r){"use strict";r.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return l},lX:function(){return x},xJ:function(){return p},zG:function(){return b}});var n=r(7437),s=r(2265),a=r(7053),i=r(9501),o=r(4508),c=r(6815);let l=i.RV,d=s.createContext({}),u=e=>{let{...t}=e;return(0,n.jsx)(d.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},m=()=>{let e=s.useContext(d),t=s.useContext(f),{getFieldState:r,formState:n}=(0,i.Gc)(),a=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},f=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...a}=e,i=s.useId();return(0,n.jsx)(f.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...a})})});p.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:a,formItemId:i}=m();return(0,n.jsx)(c._,{ref:t,className:(0,o.cn)(a&&"text-destructive",r),htmlFor:i,...s})});x.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:c}=m();return(0,n.jsx)(a.g7,{ref:t,id:i,"aria-describedby":s?"".concat(o," ").concat(c):"".concat(o),"aria-invalid":!!s,...r})});h.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:a}=m();return(0,n.jsx)("p",{ref:t,id:a,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...s})}).displayName="FormDescription";let b=s.forwardRef((e,t)=>{let{className:r,children:s,...a}=e,{error:i,formMessageId:c}=m(),l=i?String(null==i?void 0:i.message):s;return l?(0,n.jsx)("p",{ref:t,id:c,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...a,children:l}):null});b.displayName="FormMessage"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(7437),s=r(2265),a=r(6394),i=r(7712),o=r(4508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,o.cn)(c(),r),...s})});l.displayName=a.f.displayName},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return m}});var n=r(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],l={toasts:[]};function d(e){l=o(l,e),c.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=n.useState(l);return n.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9869:function(e,t,r){"use strict";r.d(t,{$X:function(){return o},Fy:function(){return s},c4:function(){return i},y1:function(){return a}}),r(3079);var n=r(2119),s=(0,n.$)("abc73778e07b95e9d8f15868fea7f03dbbca9e71"),a=(0,n.$)("be840f0dc3afac8b8d0c6b02dc3328bacb294db1"),i=(0,n.$)("c90075d8792b89f7584984a67b421aab69e556af");(0,n.$)("6f62a9caef1528e29ef4461e98a41e80f8b1eae5"),(0,n.$)("4896ea1b4f1dace1ade49eb3651161dc0c4f102a");var o=(0,n.$)("7ef6945e100c99ebbac8da6a81410b4410597f01")},978:function(e,t,r){"use strict";r.d(t,{LM:function(){return s},dF:function(){return c},p7:function(){return a},y5:function(){return i},yW:function(){return o}});var n=r(257);let s=n.env.PAYMENT_METHODS?n.env.PAYMENT_METHODS.split(", "):["PayPal","Stripe"],a=n.env.DEFAULT_PAYMENT_METHOD||"PayPal",i={email:"",password:""},o={name:"",email:"",password:"",confirmPassword:""},c={fullName:"",streetAddress:"",city:"",postalCode:"",country:""}},4508:function(e,t,r){"use strict";r.d(t,{Aj:function(){return c},Xp:function(){return l},cn:function(){return a},xG:function(){return o}});var n=r(1994),s=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}let i=Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:2});function o(e){return"number"==typeof e?i.format(e):"string"==typeof e?i.format(Number(e)):"NaN"}let c=e=>{let[t,r]=e.toString().split(".");return r?"".concat(t,".").concat(r.padEnd(2,"0")):t},l=e=>{if("number"==typeof e)return Math.round((e+Number.EPSILON)*100)/100;if("string"==typeof e)return Math.round((Number(e)+Number.EPSILON)*100)/100;throw Error("value is not a number nor a string")}},8686:function(e,t,r){"use strict";r.d(t,{LD:function(){return o},tV:function(){return i}});var n=r(1229),s=r(4508),a=r(978);n.Ry({email:n.Z_().email().min(3,"Email must be at least 3 characters"),password:n.Z_().min(3,"Password must be at least 3 characters")}),n.Ry({name:n.Z_().min(3,"Name must be at least 3 characters"),email:n.Z_().email().min(3,"Email must be at least 3 characters"),password:n.Z_().min(3,"Password must be at least 3 characters"),confirmPassword:n.Z_().min(3,"Confirm password must be at least 3 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),n.Ry({productId:n.Z_().min(1,"Product is required"),name:n.Z_().min(1,"Name is required"),slug:n.Z_().min(1,"Slug is required"),qty:n.Rx().int().nonnegative("Quantity must be a non-negative number"),image:n.Z_().min(1,"Image is required"),price:n.Rx().refine(e=>/^\d+(\.\d{2})?$/.test((0,s.Aj)(e)),"Price must have exactly two decimal places (e.g., 49.99)")});let i=n.Ry({fullName:n.Z_().min(3,"Name must be at least 3 characters"),streetAddress:n.Z_().min(3,"Address must be at least 3 characters"),city:n.Z_().min(3,"city must be at least 3 characters"),postalCode:n.Z_().min(3,"Postal code must be at least 3 characters"),country:n.Z_().min(3,"Country must be at least 3 characters"),lat:n.Rx().optional(),lng:n.Rx().optional()}),o=n.Ry({type:n.Z_().min(1,"Payment method is required")}).refine(e=>a.LM.includes(e.type),{path:["type"],message:"Invalid payment method"})},6840:function(e,t,r){"use strict";r.d(t,{WV:function(){return o},jH:function(){return c}});var n=r(2265),s=r(4887),a=r(7053),i=r(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...s}=e,o=n?a.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[317,564,971,117,744],function(){return e(e.s=7551)}),_N_E=e.O()}]);