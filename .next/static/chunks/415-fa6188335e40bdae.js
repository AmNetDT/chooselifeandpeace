"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{8575:function(e,t,n){n.d(t,{F:function(){return r},e:function(){return i}});var s=n(2265);function r(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function i(...e){return s.useCallback(r(...e),e)}},6840:function(e,t,n){n.d(t,{WV:function(){return a},jH:function(){return l}});var s=n(2265),r=n(4887),i=n(7495),o=n(7437),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=s.forwardRef((e,n)=>{let{asChild:s,...r}=e,a=s?i.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...r,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},7495:function(e,t,n){n.d(t,{g7:function(){return o}});var s=n(2265),r=n(8575),i=n(7437),o=s.forwardRef((e,t)=>{let{children:n,...r}=e,o=s.Children.toArray(n),l=o.find(c);if(l){let e=l.props.children,n=o.map(t=>t!==l?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(a,{...r,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,i.jsx)(a,{...r,ref:t,children:n})});o.displayName="Slot";var a=s.forwardRef((e,t)=>{let{children:n,...i}=e;if(s.isValidElement(n)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref;return s.cloneElement(n,{...function(e,t){let n={...t};for(let s in t){let r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...e)=>{i(...e),r(...e)}:r&&(n[s]=r):"style"===s?n[s]={...r,...i}:"className"===s&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props),ref:t?(0,r.F)(t,a):a})}return s.Children.count(n)>1?s.Children.only(null):null});a.displayName="SlotClone";var l=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===l}},5934:function(e,t,n){n.d(t,{SessionProvider:function(){return eo},kP:function(){return es}});var s,r,i,o,a,l=n(7437),c=n(2265),d=n.t(c,2);class u extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}}class p extends u{}p.kind="signIn";class f extends u{}f.type="AdapterError";class v extends u{}v.type="AccessDenied";class h extends u{}h.type="CallbackRouteError";class y extends u{}y.type="ErrorPageLoop";class g extends u{}g.type="EventError";class E extends u{}E.type="InvalidCallbackUrl";class w extends p{constructor(){super(...arguments),this.code="credentials"}}w.type="CredentialsSignin";class x extends u{}x.type="InvalidEndpoints";class S extends u{}S.type="InvalidCheck";class m extends u{}m.type="JWTSessionError";class b extends u{}b.type="MissingAdapter";class _ extends u{}_.type="MissingAdapterMethods";class L extends u{}L.type="MissingAuthorize";class C extends u{}C.type="MissingSecret";class R extends p{}R.type="OAuthAccountNotLinked";class A extends p{}A.type="OAuthCallbackError";class U extends u{}U.type="OAuthProfileParseError";class k extends u{}k.type="SessionTokenError";class T extends p{}T.type="OAuthSignInError";class N extends p{}N.type="EmailSignInError";class P extends u{}P.type="SignOutError";class j extends u{}j.type="UnknownAction";class I extends u{}I.type="UnsupportedStrategy";class M extends u{}M.type="InvalidProvider";class O extends u{}O.type="UntrustedHost";class W extends u{}W.type="Verification";class V extends p{}V.type="MissingCSRF";class H extends u{}H.type="DuplicateConditionalUI";class F extends u{}F.type="MissingWebAuthnAutocomplete";class X extends u{}X.type="WebAuthnVerificationError";class D extends p{}D.type="AccountNotLinked";class $ extends u{}$.type="ExperimentalFeatureNotEnabled";class B extends u{}class J extends u{}async function q(e,t,n){var s;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="".concat("undefined"==typeof window?"".concat(t.baseUrlServer).concat(t.basePathServer):t.basePath,"/").concat(e);try{let e={headers:{"Content-Type":"application/json",...(null==r?void 0:null===(s=r.headers)||void 0===s?void 0:s.cookie)?{cookie:r.headers.cookie}:{}}};(null==r?void 0:r.body)&&(e.body=JSON.stringify(r.body),e.method="POST");let t=await fetch(i,e),n=await t.json();if(!t.ok)throw n;return n}catch(e){return n.error(new B(e.message,e)),null}}function z(){return Math.floor(Date.now()/1e3)}function Z(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let n=new URL(e||t),s=("/"===n.pathname?t.pathname:n.pathname).replace(/\/$/,""),r="".concat(n.origin).concat(s);return{origin:n.origin,host:n.host,path:s,base:r,toString:()=>r}}var G=n(257);let K={baseUrl:Z(null!==(r=G.env.NEXTAUTH_URL)&&void 0!==r?r:G.env.VERCEL_URL).origin,basePath:Z(G.env.NEXTAUTH_URL).path,baseUrlServer:Z(null!==(o=null!==(i=G.env.NEXTAUTH_URL_INTERNAL)&&void 0!==i?i:G.env.NEXTAUTH_URL)&&void 0!==o?o:G.env.VERCEL_URL).origin,basePathServer:Z(null!==(a=G.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:G.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},Q=null;function Y(){return new BroadcastChannel("next-auth")}function ee(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===Q&&(Q=Y()),Q)}let et={debug:console.debug,error:console.error,warn:console.warn},en=null===(s=c.createContext)||void 0===s?void 0:s.call(d,void 0);function es(e){if(!en)throw Error("React Context is unavailable in Server Components");let t=c.useContext(en),{required:n,onUnauthenticated:s}=null!=e?e:{},r=n&&"unauthenticated"===t.status;return(c.useEffect(()=>{if(r){let e="".concat(K.basePath,"/signin?").concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));s?s():window.location.href=e}},[r,s]),r)?{data:t.data,update:t.update,status:"loading"}:t}async function er(e){var t;let n=await q("session",K,et,e);return(null===(t=null==e?void 0:e.broadcast)||void 0===t||t)&&Y().postMessage({event:"session",data:{trigger:"getSession"}}),n}async function ei(){var e;let t=await q("csrf",K,et);return null!==(e=null==t?void 0:t.csrfToken)&&void 0!==e?e:""}function eo(e){if(!en)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:n,refetchInterval:s,refetchWhenOffline:r}=e;n&&(K.basePath=n);let i=void 0!==e.session;K._lastSync=i?z():0;let[o,a]=c.useState(()=>(i&&(K._session=e.session),e.session)),[d,u]=c.useState(!i);c.useEffect(()=>(K._getSession=async function(){let{event:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t="storage"===e;if(t||void 0===K._session){K._lastSync=z(),K._session=await er({broadcast:!t}),a(K._session);return}if(!e||null===K._session||z()<K._lastSync)return;K._lastSync=z(),K._session=await er(),a(K._session)}catch(e){et.error(new J(e.message,e))}finally{u(!1)}},K._getSession(),()=>{K._lastSync=0,K._session=void 0,K._getSession=()=>{}}),[]),c.useEffect(()=>{let e=()=>K._getSession({event:"storage"});return ee().addEventListener("message",e),()=>ee().removeEventListener("message",e)},[]),c.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,n=()=>{t&&"visible"===document.visibilityState&&K._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),()=>document.removeEventListener("visibilitychange",n,!1)},[e.refetchOnWindowFocus]);let p=function(){let[e,t]=c.useState("undefined"!=typeof navigator&&navigator.onLine),n=()=>t(!0),s=()=>t(!1);return c.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",s),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}),[]),e}(),f=!1!==r||p;c.useEffect(()=>{if(s&&f){let e=setInterval(()=>{K._session&&K._getSession({event:"poll"})},1e3*s);return()=>clearInterval(e)}},[s,f]);let v=c.useMemo(()=>({data:o,status:d?"loading":o?"authenticated":"unauthenticated",async update(e){if(d)return;u(!0);let t=await q("session",K,et,void 0===e?void 0:{body:{csrfToken:await ei(),data:e}});return u(!1),t&&(a(t),ee().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[o,d]);return(0,l.jsx)(en.Provider,{value:v,children:t})}}}]);